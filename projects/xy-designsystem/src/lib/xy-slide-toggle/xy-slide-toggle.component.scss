@use '@angular/material' as mat;
@use '../../../theme/xy-theme' as theme;

:host{
  ::ng-deep {
    .mat-slide-toggle {
      .mat-slide-toggle-content{
        font-family: theme.$base-font;
      }

      &.mat-error{
        display: inline-block;
      }
    }
    .mat-slide-toggle-bar {
      width: 32px;
      height: 12px;
    }
    .mat-slide-toggle-thumb {
      position: absolute;
      height: 16px;
      width: 16px;
      background-color: mat.get-color-from-palette(theme.$xy-base, 700) !important;
    }
    .mat-slide-toggle-thumb-container {
      top: -2px;
      height: 16px;
      width: 16px;
    }
    .mat-slide-toggle {
      .mat-slide-toggle-ripple{
        top: calc(50% - 16px);
        left: calc(50% - 16px);
        height: 32px;
        width: 32px;

        .mat-ripple-element{
          top: 0 !important;
          left: 0 !important;
          height: 30px !important;
          width: 30px !important;
          border: transparent 1px solid;
        }
      }
      &.cdk-focused{
        .mat-slide-toggle-persistent-ripple{
          background-color: transparent !important;
        }
      }
      &.cdk-focused.cdk-keyboard-focused{
        .mat-slide-toggle-persistent-ripple{
          opacity: 1 !important;
          border: 1px transparent solid;
        }
      }
      &:not(.mat-checked) {
        .mat-slide-toggle-bar{
          background-color: mat.get-color-from-palette(theme.$xy-base, 400) !important;
        }
        .mat-slide-toggle-persistent-ripple{
          background-color: mat.get-color-from-palette(theme.$xy-disabled, 800, 0.1) !important;
        }
        &:not(.mat-disabled) {
          &:hover {
            .mat-slide-toggle-persistent-ripple {
              opacity: 1 !important;
              background-color: mat.get-color-from-palette(theme.$xy-base, 800, 0.1) !important;
            }
          }

          &:active {
            .mat-slide-toggle-persistent-ripple {
              background-color: mat.get-color-from-palette(theme.$xy-base, 800, 0.1) !important;
            }
          }
         &.cdk-focused:not(:hover){
            .mat-slide-toggle-persistent-ripple{
              background-color: transparent !important;
            }
          }
          &.cdk-focused.cdk-keyboard-focused{
            .mat-slide-toggle-persistent-ripple{
              border-color: mat.get-color-from-palette(theme.$xy-disabled, 700) !important;
              background-color: mat.get-color-from-palette(theme.$xy-disabled, 400, 0.1) !important;
            }
          }
        }
      }
      &.mat-disabled {
        opacity: 1 !important;
        .mat-slide-toggle-label {
          color: mat.get-color-from-palette(theme.$xy-disabled, 400) !important;
        }
        .mat-slide-toggle-bar{
          background-color: mat.get-color-from-palette(theme.$xy-base, 300) !important;
        }
        .mat-slide-toggle-thumb{
          background-color: mat.get-color-from-palette(theme.$xy-base, 400) !important;
        }
      }
    }

    &.mat-accent {
      .mat-slide-toggle-label {
        color: mat.get-color-from-palette(theme.$xy-accent, A700) !important;
      }
      &.mat-slide-toggle {
        &.mat-checked {
          .mat-slide-toggle-thumb{
            background-color: mat.get-color-from-palette(theme.$xy-accent, A500) !important;
          }
          .mat-slide-toggle-bar{
            background-color: mat.get-color-from-palette(theme.$xy-accent, A200) !important;
          }
          .mat-slide-toggle-persistent-ripple{
            background-color: mat.get-color-from-palette(theme.$xy-accent, A500, 0.2) !important;
          }
          &:not(.mat-disabled) {
            &:hover {
              .mat-slide-toggle-persistent-ripple {
                opacity: 1 !important;
                background-color: mat.get-color-from-palette(theme.$xy-accent, A500, 0.2) !important;
              }
            }

            &:active {
              .mat-slide-toggle-persistent-ripple {
                opacity: 1 !important;
                background-color: mat.get-color-from-palette(theme.$xy-accent, A500, 0.2) !important;
              }
            }

            &.cdk-focused:not(:hover) {
              .mat-slide-toggle-persistent-ripple {
                background-color: transparent !important;
              }
            }

            &.cdk-focused.cdk-keyboard-focused {
              .mat-slide-toggle-persistent-ripple {
                border-color: mat.get-color-from-palette(theme.$xy-accent, A700) !important;
                background-color: mat.get-color-from-palette(theme.$xy-accent, A500, 0.2) !important;
              }
            }
          }
        }
      }
    }
    &.mat-critical {
      .mat-slide-toggle-label {
        color: mat.get-color-from-palette(theme.$xy-critical, A700) !important;
      }
      &.mat-slide-toggle {
        &.mat-checked {
          .mat-slide-toggle-thumb{
            background-color: mat.get-color-from-palette(theme.$xy-critical, A400) !important;
          }
          .mat-slide-toggle-bar{
            background-color: mat.get-color-from-palette(theme.$xy-critical, A200) !important;
          }
          .mat-slide-toggle-persistent-ripple{
            background-color: mat.get-color-from-palette(theme.$xy-critical, A400, 0.2) !important;
          }
          &:hover{
            .mat-slide-toggle-persistent-ripple{
              opacity: 1 !important;
              background-color: mat.get-color-from-palette(theme.$xy-critical, A400, 0.2) !important;
            }
          }
          &:active{
            .mat-slide-toggle-persistent-ripple{
              background-color: mat.get-color-from-palette(theme.$xy-critical, A400, 0.2) !important;
            }
          }
         &.cdk-focused:not(:hover){
            .mat-slide-toggle-persistent-ripple{
              background-color: transparent !important;
            }
          }
          &.cdk-focused.cdk-keyboard-focused{
            .mat-slide-toggle-persistent-ripple{
              border-color: mat.get-color-from-palette(theme.$xy-critical, A700) !important;
              background-color: mat.get-color-from-palette(theme.$xy-critical, A400, 0.2) !important;
            }
          }
        }
      }
    }
    &.mat-error {
      .mat-slide-toggle-label {
        color: mat.get-color-from-palette(theme.$xy-error, A700) !important;
      }
      &.mat-slide-toggle {
        &.mat-checked {
          .mat-slide-toggle-thumb{
            background-color: mat.get-color-from-palette(theme.$xy-error, A400) !important;
          }
          .mat-slide-toggle-bar{
            background-color: mat.get-color-from-palette(theme.$xy-error, A200) !important;
          }
          .mat-slide-toggle-persistent-ripple{
            background-color: mat.get-color-from-palette(theme.$xy-error, A400, 0.2) !important;
          }
          &:hover{
            .mat-slide-toggle-persistent-ripple{
              opacity: 1 !important;
              background-color: mat.get-color-from-palette(theme.$xy-error, A400, 0.2) !important;
            }
          }
          &:active{
            .mat-slide-toggle-persistent-ripple{
              background-color: mat.get-color-from-palette(theme.$xy-error, A400, 0.2) !important;
            }
          }
         &.cdk-focused:not(:hover){
            .mat-slide-toggle-persistent-ripple{
              background-color: transparent !important;
            }
          }
          &.cdk-focused.cdk-keyboard-focused{
            .mat-slide-toggle-persistent-ripple{
              border-color: mat.get-color-from-palette(theme.$xy-error, A700) !important;
              background-color: mat.get-color-from-palette(theme.$xy-error, A400, 0.2) !important;
            }
          }
        }
      }
    }
    &.mat-warning {
      .mat-slide-toggle-label {
        color: mat.get-color-from-palette(theme.$xy-warn, A700) !important;
      }
      &.mat-slide-toggle {
        &.mat-checked {
          .mat-slide-toggle-thumb{
            background-color: mat.get-color-from-palette(theme.$xy-warn, A400) !important;
          }
          .mat-slide-toggle-bar{
            background-color: mat.get-color-from-palette(theme.$xy-warn, A200) !important;
          }
          .mat-slide-toggle-persistent-ripple{
            background-color: mat.get-color-from-palette(theme.$xy-warn, A400, 0.2) !important;
          }
          &:hover{
            .mat-slide-toggle-persistent-ripple{
              opacity: 1 !important;
              background-color: mat.get-color-from-palette(theme.$xy-warn, A400, 0.2) !important;
            }
          }
          &:active{
            .mat-slide-toggle-persistent-ripple{
              background-color: mat.get-color-from-palette(theme.$xy-warn, A400, 0.2) !important;
            }
          }
         &.cdk-focused:not(:hover){
            .mat-slide-toggle-persistent-ripple{
              background-color: transparent !important;
            }
          }
          &.cdk-focused.cdk-keyboard-focused{
            .mat-slide-toggle-persistent-ripple{
              border-color: mat.get-color-from-palette(theme.$xy-warn, A700) !important;
              background-color: mat.get-color-from-palette(theme.$xy-warn, A400, 0.2) !important;
            }
          }
        }
      }
    }
    &.mat-attention {
      .mat-slide-toggle-label {
        color: mat.get-color-from-palette(theme.$xy-attention, A700) !important;
      }
      &.mat-slide-toggle {
        &.mat-checked {
          .mat-slide-toggle-thumb{
            background-color: mat.get-color-from-palette(theme.$xy-attention, A400) !important;
          }
          .mat-slide-toggle-bar{
            background-color: mat.get-color-from-palette(theme.$xy-attention, A200) !important;
          }
          .mat-slide-toggle-persistent-ripple{
            background-color: mat.get-color-from-palette(theme.$xy-attention, A400, 0.2) !important;
          }
          &:hover{
            .mat-slide-toggle-persistent-ripple{
              opacity: 1 !important;
              background-color: mat.get-color-from-palette(theme.$xy-attention, A400, 0.2) !important;
            }
          }
          &:active{
            .mat-slide-toggle-persistent-ripple{
              background-color: mat.get-color-from-palette(theme.$xy-attention, A400, 0.2) !important;
            }
          }
         &.cdk-focused:not(:hover){
            .mat-slide-toggle-persistent-ripple{
              background-color: transparent !important;
            }
          }
          &.cdk-focused.cdk-keyboard-focused{
            .mat-slide-toggle-persistent-ripple{
              border-color: mat.get-color-from-palette(theme.$xy-attention, A700) !important;
              background-color: mat.get-color-from-palette(theme.$xy-attention, A400, 0.2) !important;
            }
          }
        }
      }
    }
    &.mat-safe_normal {
      .mat-slide-toggle-label {
        color: mat.get-color-from-palette(theme.$xy-safe_normal, A700) !important;
      }
      &.mat-slide-toggle {
        &.mat-checked {
          .mat-slide-toggle-thumb{
            background-color: mat.get-color-from-palette(theme.$xy-safe_normal, A400) !important;
          }
          .mat-slide-toggle-bar{
            background-color: mat.get-color-from-palette(theme.$xy-safe_normal, A100) !important;
          }
          .mat-slide-toggle-persistent-ripple{
            background-color: mat.get-color-from-palette(theme.$xy-safe_normal, A400, 0.2) !important;
          }
          &:hover{
            .mat-slide-toggle-persistent-ripple{
              opacity: 1 !important;
              background-color: mat.get-color-from-palette(theme.$xy-safe_normal, A400, 0.2) !important;
            }
          }
          &:active{
            .mat-slide-toggle-persistent-ripple{
              background-color: mat.get-color-from-palette(theme.$xy-safe_normal, A400, 0.2) !important;
            }
          }
         &.cdk-focused:not(:hover){
            .mat-slide-toggle-persistent-ripple{
              background-color: transparent !important;
            }
          }
          &.cdk-focused.cdk-keyboard-focused{
            .mat-slide-toggle-persistent-ripple{
              border-color: mat.get-color-from-palette(theme.$xy-safe_normal, A700) !important;
              background-color: mat.get-color-from-palette(theme.$xy-safe_normal, A400, 0.2) !important;
            }
          }
        }
      }
    }
  }

  .mat-error{
    font-size: 75%;
    color: mat.get-color-from-palette(theme.$xy-error, A700) !important;
  }
}

:host-context(.dark-theme) {
  ::ng-deep {
    .mat-slide-toggle-label {
      color: mat.get-color-from-palette(theme.$xy-dark-base, 50) !important;
    }

    .mat-slide-toggle-thumb {
      background-color: mat.get-color-from-palette(theme.$xy-base, 700) !important;
    }

    .mat-slide-toggle {
      &:not(.mat-checked) {
        .mat-slide-toggle-bar {
          background-color: mat.get-color-from-palette(theme.$xy-base, 400) !important;
        }

        .mat-slide-toggle-persistent-ripple {
          background-color: mat.get-color-from-palette(theme.$xy-white-palette, 400, 0.1) !important;
        }

        &:not(.mat-disabled) {
          &:hover {
            .mat-slide-toggle-persistent-ripple {
              opacity: 1 !important;
              background-color: mat.get-color-from-palette(theme.$xy-white-palette, 400, 0.1) !important;
            }
          }

          &:active {
            .mat-slide-toggle-persistent-ripple {
              background-color: mat.get-color-from-palette(theme.$xy-white-palette, 400, 0.2) !important;
            }
          }

          &.cdk-focused.cdk-keyboard-focused {
            .mat-slide-toggle-persistent-ripple {
              border-color: mat.get-color-from-palette(theme.$xy-dark-base, 400) !important;
              background-color: mat.get-color-from-palette(theme.$xy-white-palette, 400, 0.2) !important;
            }
          }
        }
      }

      &.mat-disabled {
        .mat-slide-toggle-label {
          color: mat.get-color-from-palette(theme.$xy-dark-base, 500) !important;
        }

        .mat-slide-toggle-bar {
          background-color: mat.get-color-from-palette(theme.$xy-dark-base, 500) !important;
        }

        .mat-slide-toggle-thumb {
          background-color: mat.get-color-from-palette(theme.$xy-dark-base, 500) !important;
        }
      }
    }

    &.mat-accent {
      &.mat-slide-toggle {
        &.mat-checked {
          .mat-slide-toggle-thumb {
            background-color: mat.get-color-from-palette(theme.$xy-dark-primary, 500) !important;
          }

          .mat-slide-toggle-bar {
            background-color: mat.get-color-from-palette(theme.$xy-dark-primary, 200) !important;
          }

          .mat-slide-toggle-persistent-ripple {
            background-color: mat.get-color-from-palette(theme.$xy-dark-primary, 500, 0.1) !important;
          }

          &:not(.mat-disabled) {
            &:hover {
              .mat-slide-toggle-persistent-ripple {
                opacity: 1 !important;
                background-color: mat.get-color-from-palette(theme.$xy-dark-primary, 500, 0.1) !important;
              }
            }

            &:active {
              .mat-slide-toggle-persistent-ripple {
                opacity: 1 !important;
                background-color: mat.get-color-from-palette(theme.$xy-dark-primary, 500, 0.2) !important;
              }
            }

            &.cdk-focused.cdk-keyboard-focused {
              .mat-slide-toggle-persistent-ripple {
                border-color: mat.get-color-from-palette(theme.$xy-dark-primary, 200) !important;
                background-color: mat.get-color-from-palette(theme.$xy-dark-primary, 500, 0.1) !important;
              }
            }
          }
        }
      }
    }
  }
}
