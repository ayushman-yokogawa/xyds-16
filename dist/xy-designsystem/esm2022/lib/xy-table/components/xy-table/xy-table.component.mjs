import { animate, state, style, transition, trigger } from '@angular/animations';
import { Component, HostListener, Input, ViewChild } from '@angular/core';
import { MatSort } from '@angular/material/sort';
import { MatLegacyTable as MatTable, MatLegacyTableDataSource as MatTableDataSource } from '@angular/material/legacy-table';
import { Output, EventEmitter } from '@angular/core';
import { SelectionModel } from '@angular/cdk/collections';
import { MatLegacyPaginator as MatPaginator } from '@angular/material/legacy-paginator';
import { filter } from 'rxjs';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "@angular/material/table";
import * as i3 from "@angular/material/button";
import * as i4 from "@angular/material/icon";
import * as i5 from "@angular/material/menu";
import * as i6 from "@angular/material/paginator";
import * as i7 from "@angular/material/checkbox";
import * as i8 from "@angular/forms";
import * as i9 from "@angular/material/sort";
import * as i10 from "../../../xy-input/xy-input.component";
import * as i11 from "../../../xy-button/xy-button.component";
import * as i12 from "../xy-table-cell/xy-table-cell.component";
export const tableConst = {
    actionButton: {
        edit: 'edit',
        delete: 'delete',
        view: 'View',
    },
};
export class XyTableComponent {
    onEditClick() {
        this.buttonAction.emit({
            name: tableConst.actionButton.edit,
            value: this.value,
        });
    }
    onDeleteClick() {
        this.buttonAction.emit({
            name: tableConst.actionButton.delete,
            value: this.value,
        });
    }
    onViewClick() {
        this.buttonAction.emit({
            name: tableConst.actionButton.view,
            value: this.value,
        });
    }
    constructor() {
        this.xyTableData = [];
        this.deleteRow = new EventEmitter();
        this.expandDetail = new EventEmitter();
        this.expandRequired = true;
        this.expandTableDetail = [];
        this.selection = new SelectionModel(true, []);
        this.expandAsData = false;
        this.expandAsTableData = false;
        this.isEditRequired = false;
        this.isDeleteRequired = false;
        this.editRow = new EventEmitter();
        this.refreshTrig = new EventEmitter();
        this.action = new EventEmitter();
        this.columnsToDisplay = [];
        this.expandColumnsToDisplay = [];
        this.valid = false;
        this.buttonAction = new EventEmitter();
        this.emptyData = new MatTableDataSource([{ empty: "row" }]);
        this.dataSourceFilters = new MatTableDataSource(this.xyTableData);
        this.getFilterData = [];
        this.empFilters = [];
        this.defaultValue = "All";
        this.filterDictionary = new Map();
    }
    onHostClick(event) {
        console.log(event);
    }
    refreshClick(event) {
        console.log("event", event);
    }
    // getDisplayedColumns(): string[] {
    //   return this.columnDefs.filter(cd => cd.visible).map(cd => cd.columnDef);
    // } 
    getDisplayedExpandColumns() {
        return this.expandcolumnDefs.filter(cd => cd.visible).map(cd => cd.columnDef);
    }
    getDisplayedColumns() {
        const filterData = this.columnDefs.filter(cd => cd.visible).map(cd => cd.columnDef);
        const columnHide = this.xyTableData.map((rowValue) => {
            let obj = {};
            for (const [key, value] of Object.entries(rowValue)) {
                if (filterData.indexOf(key) > -1) {
                    obj[key] = value;
                }
            }
            return obj;
        });
        console.log(columnHide);
        this.dataSource = new MatTableDataSource(columnHide);
        return this.columnDefs.filter(cd => cd.visible).map(cd => cd.columnDef);
    }
    ngOnInit() {
        this.intlies = this.customfilter;
        this.intlies2 = this.CustomELement;
        this.dataSource = new MatTableDataSource(this.xyTableData);
        this.dataSource.sort = this.sort;
        this.columnDefs.forEach(element => this.columnsToDisplay.push(element.columnDef));
        this.paginator._intl.itemsPerPageLabel = this.DisplayPaginatorLabel;
        this.expandcolumnDefs.forEach(element => this.expandColumnsToDisplay.push(element.columnDef));
    }
    applyFilter(event) {
        const filterValue = event.target.value;
        this.dataSource.filter = filterValue.trim().toLowerCase();
    }
    ngAfterViewInit() {
        this.dataSource.paginator = this.paginator;
        this.searchMenu.closed = this.configureMenuClose(this.searchMenu.close);
    }
    toggleRow(element) {
        this.expandedElement = this.expandedElement === element ? null : element;
    }
    onTableAction(e) {
        this.action.emit(e);
        this.buttonAction.emit({ name: tableConst.actionButton.delete });
    }
    delete(data) {
        this.deleteRow.emit(data);
    }
    edit(data) {
        this.editRow.emit(data);
    }
    click() {
        if (this.matButton) {
            this.matButton._elementRef.nativeElement.click();
        }
    }
    onClick($event) {
        console.log("Button CLicked");
    }
    refresh($event) { }
    onClickRight($event, element) {
        $event.stopPropagation();
        if (element.clickRight) {
            element.clickRight.call(this);
        }
    }
    // onDeleteClick() {
    // onViewClick() {
    //   this.buttonAction.emit({ name: tableConst.actionButton.view });
    // }
    ngOnChanges(changes) {
        // this.getDisplayedColumns();
        for (const propName of Object.keys(changes)) {
            const change = changes[propName];
            if (propName === 'expandTableDetail') {
                this.expandedElement = change.currentValue;
                this.expandedDataSource = this.expandedElement;
            }
        }
    }
    selectedRow(element) {
        this.changeColor = this.expandedElement === element ? null : element;
    }
    /** Whether the number of selected elements matches the total number of rows. */
    isAllSelected() {
        const numSelected = this.selection.selected.length;
        const numRows = this.dataSource.data.length;
        return numSelected === numRows;
    }
    selectRow(data) {
        this.selection.toggle(data);
    }
    masterToggle() {
        this.isAllSelected() ?
            this.selection.clear() :
            this.dataSource.data.forEach((data) => this.selection.select(data));
    }
    removeSelectedRows() {
        this.selection.selected.forEach(item => {
            let index = this.xyTableData.findIndex((d) => d === item);
            console.log(this.xyTableData.findIndex((d) => d === item));
            this.xyTableData.splice(index, 1);
            this.dataSource = new MatTableDataSource(this.xyTableData);
        });
        this.selection = new SelectionModel(true, []);
    }
    configureMenuClose(old) {
        const upd = new EventEmitter();
        feed(upd.pipe(filter(event => {
            console.log(`menu.close(${JSON.stringify(event)})`);
            if (event === 'click') {
                // Ignore clicks inside the menu 
                return false;
            }
            return true;
        })), old);
        return upd;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.1", ngImport: i0, type: XyTableComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.2.1", type: XyTableComponent, selector: "xy-table", inputs: { xyTableData: "xyTableData", columnDefs: "columnDefs", expandcolumnDefs: "expandcolumnDefs", expandRequired: "expandRequired", expandTableDetail: "expandTableDetail", pageSize: "pageSize", pageSizeOptions: "pageSizeOptions", length: "length", ariaLabel: ["aria-label", "ariaLabel"], DisplayPaginatorLabel: "DisplayPaginatorLabel", expandAsData: "expandAsData", expandAsTableData: "expandAsTableData", isEditRequired: "isEditRequired", isDeleteRequired: "isDeleteRequired", tableactionBar: "tableactionBar", tableSearchBar: "tableSearchBar", deleteAllTrig: "deleteAllTrig", columnHideTrig: "columnHideTrig", searchPlaceholder: "searchPlaceholder", tableRefresh: "tableRefresh", noDataMessage: "noDataMessage", customfilter: "customfilter", CustomELement: "CustomELement", buttonText: "buttonText" }, outputs: { deleteRow: "deleteRow", expandDetail: "expandDetail", editRow: "editRow", refreshTrig: "refreshTrig", action: "action", buttonAction: "buttonAction" }, host: { listeners: { "click": "onHostClick($event)" } }, viewQueries: [{ propertyName: "sort", first: true, predicate: MatSort, descendants: true, static: true }, { propertyName: "paginator", first: true, predicate: MatPaginator, descendants: true, static: true }, { propertyName: "table", first: true, predicate: MatTable, descendants: true }, { propertyName: "matButton", first: true, predicate: ["button"], descendants: true }, { propertyName: "searchMenu", first: true, predicate: ["searchMenu"], descendants: true }], usesOnChanges: true, ngImport: i0, template: "<!-- <div class=\"delete-btn\">\r\n  <mat-icon (click)=\"removeSelectedRows()\">delete</mat-icon>\r\n</div> -->\r\n\r\n <!-- <div class=\"mat-elevation-z8\">\r\n  <table mat-table multiTemplateDataRows [dataSource]=\"dataSource\" aria-describedby=\"table\" matSort class=\"scroller\">\r\n    <ng-container *ngFor=\"let column of columnDefs\" [matColumnDef]=column.columnDef>\r\n        <ng-container *ngIf=\"column.checkboxRequired === true\">\r\n          <th mat-header-cell *matHeaderCellDef>\r\n  \r\n            <mat-checkbox \r\n                  (change)=\"$event ? masterToggle() : null\"\r\n                  [checked]=\"selection.hasValue() && isAllSelected()\"\r\n                  [indeterminate]=\"selection.hasValue() && !isAllSelected()\" (focus)=\"selectRow(column)\">\r\n            </mat-checkbox> \r\n          </th> \r\n        </ng-container>\r\n        <ng-container *ngIf=\"column.isSort === true\">\r\n          <th mat-header-cell *matHeaderCellDef mat-sort-header> {{column.headerCellDef | titlecase}} </th>\r\n        </ng-container> \r\n        <ng-container *ngIf=\"column.isSort === false\">\r\n          <th mat-header-cell *matHeaderCellDef> {{column.headerCellDef | titlecase}} </th>\r\n        </ng-container>\r\n\r\n\r\n        <td mat-cell *matCellDef=\"let data\">\r\n          <xy-table-cell [columnDef]=\"column\" [data]=\"data\">  </xy-table-cell>\r\n          <ng-container *ngIf=\"column.cellDef.type === 'menu'\">\r\n            <button mat-icon-button [matMenuTriggerFor]=\"menu\" class=\"arrowBtn\" aria-label=\"menu\">\r\n              <mat-icon>more_vert</mat-icon>\r\n            </button> \r\n            <mat-menu #menu=\"matMenu\">\r\n              <button mat-menu-item   (click)=\"edit(data)\" *ngIf=\"isEditRequired\">\r\n                <mat-icon>edit</mat-icon>\r\n                <span>Edit</span>\r\n              </button>\r\n              <button mat-menu-item  (click)=\"delete(data)\" *ngIf=\"isDeleteRequired\">\r\n                <mat-icon>delete_outline</mat-icon>\r\n                <span>Delete</span>\r\n              </button> \r\n            </mat-menu> \r\n          </ng-container>\r\n\r\n          <ng-container *ngIf=\"column.cellDef.type === 'action'\">\r\n            <button mat-icon-button aria-label=\"expand row\" class=\"arrowBtn\" (click)=\"toggleRow(data)\" *ngIf=\"expandRequired\">\r\n                <mat-icon *ngIf=\"expandedElement !== data\">keyboard_arrow_down</mat-icon>\r\n                <mat-icon *ngIf=\"expandedElement === data\">keyboard_arrow_up</mat-icon>\r\n            </button>\r\n          </ng-container>\r\n          \r\n    <ng-container  *ngIf=\"column.checkboxRequired == true\"> \r\n              <mat-checkbox (click)=\"$event.stopPropagation()\"\r\n                (change)=\"$event ? selection.toggle(data) : null\"\r\n                [checked]=\"selection.isSelected(data)\">\r\n              </mat-checkbox>\r\n          </ng-container>\r\n        </td>\r\n    </ng-container>\r\n  \r\n    <ng-container matColumnDef=\"expandedDetail\">\r\n      <tr>\r\n        <td mat-cell *matCellDef=\"let element\" [attr.colspan]=\"columnsToDisplay.length\">\r\n          <div class=\"inner-table-detail\" *ngIf=\"expandRequired\"\r\n            [@detailExpand]=\"element?.id == expandedElement?.id ? 'expanded' : 'collapsed'\">\r\n            <div class=\"collapse-table mat-elevation-z8\" *ngIf=\"expandedElement\">\r\n               \r\n              \r\n                <div *ngIf=\"expandAsData\">\r\n                  <p>{{element?.expandableRow?.expandData}}</p>\r\n                </div>\r\n  \r\n  \r\n                <div *ngIf=\"expandAsTableData\">\r\n                  <table mat-table multiTemplateDataRows [dataSource]=\"expandedDataSource\" aria-describedby=\"table\" \r\n                    class=\"scroller\" >\r\n      \r\n                    <ng-container *ngFor=\"let column of expandcolumnDefs\" [matColumnDef]=column.columnDef>\r\n                      <ng-container *ngIf=\"column.checkboxRequired === true\">\r\n                        <th mat-header-cell *matHeaderCellDef>\r\n                        </th>\r\n                      </ng-container>\r\n                      <ng-container>\r\n                        <th mat-header-cell *matHeaderCellDef> {{column.headerCellDef | titlecase}} </th>\r\n                      </ng-container>\r\n      \r\n                      <td mat-cell *matCellDef=\"let data\">\r\n                        <xy-table-cell [columnDef]=\"column\" [data]=\"data\"></xy-table-cell>\r\n                       \r\n                    \r\n                        <ng-container *ngIf=\"column.checkboxRequired === true\">\r\n                          <mat-checkbox (click)=\"$event.stopPropagation()\"\r\n                          (change)=\"$event ? selection.toggle(data) : null\"\r\n                          [checked]=\"selection.isSelected(data)\"\r\n                          >\r\n                        </mat-checkbox>\r\n                        </ng-container>\r\n                      </td>\r\n                    </ng-container>\r\n      \r\n                    <ng-container >\r\n                      <tr mat-header-row *matHeaderRowDef=\"expandColumnsToDisplay; sticky:true\"></tr>\r\n                      <tr mat-row *matRowDef=\"let element; columns: expandColumnsToDisplay;\" \r\n                      [ngClass]=\"{highlighted: selection.isSelected(element)}\" (click)=\"selectRow(element)\">\r\n                      </tr>\r\n                    </ng-container>\r\n                  </table>\r\n                </div>\r\n               \r\n            </div>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n      <tr mat-header-row *matHeaderRowDef=\"columnsToDisplay; sticky:true\"></tr>\r\n\r\n      <tr mat-row *matRowDef=\"let element, let data; columns: columnsToDisplay;\"\r\n        [class.accordion-element-row]=\"element.addresses?.data.length\"\r\n        [class.accordion-active]=\"expandedElement?.id === element?.id\"\r\n        (click)=\"onClickRight($event, data)\" (mousedown)=\"onMouseDown($event, data)\" (mouseup)=\"onMouseUp($event, data)\"\r\n        [ngClass]=\"{highlighted: selection.isSelected(element)}\" (click)=\"selectRow(element)\">\r\n      </tr>\r\n      \r\n      <tr mat-row  *matRowDef=\"let data; columns: ['expandedDetail']\"  class=\"innertable-row\"></tr>\r\n    </ng-container>\r\n    \r\n\r\n  </table>\r\n  \r\n  <mat-paginator [length]=\"length\"\r\n                [pageSize]=\"pageSize\"\r\n                [pageSizeOptions]=\"pageSizeOptions\"\r\n                [attr.aria-label]=\"ariaLabel\"\r\n                showFirstLastButtons >\r\n  </mat-paginator>\r\n</div> -->\r\n<div class=\"table-actionbar\" *ngIf=\"tableactionBar\">\r\n  <div class=\"left-col\">\r\n    <div class=\"filter-search\" *ngIf=\"tableSearchBar\">\r\n      <xy-input placeholder=\"{{searchPlaceholder}}\" (value)=\"value\" small (keyup)=\"applyFilter($event)\"></xy-input>\r\n    </div> \r\n  </div>\r\n  <div class=\"right-col\">\r\n      <xy-button icon-button icon=\"delete\" color=\"critical\" (click)=\"removeSelectedRows()\" *ngIf=\"deleteAllTrig\"> </xy-button>\r\n      <xy-button icon-button icon=\"sync\" color=\"accent\" (click)=\"refresh($event)\" *ngIf=\"tableRefresh\"></xy-button>\r\n      <xy-button icon-button color=\"accent\" icon=\"tune\"  [matMenuTriggerFor]=\"menu\" class=\"table-config-menu\" *ngIf=\"columnHideTrig\">\r\n        <mat-menu #menu=\"matMenu\">\r\n          <span class=\"table-config-menu-label\">Edit Columns</span>\r\n          <div class=\"table-config-menu-options\">\r\n            <mat-checkbox \r\n              *ngFor=\"let cd of columnDefs; let i = index\"\r\n              (click)=\"$event.stopPropagation()\" [(ngModel)]=\"cd.visible\">\r\n              {{cd.headerCellDef}}\r\n            </mat-checkbox>\r\n          </div>\r\n      </mat-menu>\r\n      </xy-button>\r\n  </div>\r\n</div>\r\n\r\n\r\n<div class=\"mat-elevation-z8\">\r\n  <table mat-table multiTemplateDataRows [dataSource]=\"dataSource\" aria-describedby=\"table\" matSort class=\"scroller\">\r\n    <ng-container *ngFor=\"let column of columnDefs\" [matColumnDef]=column.columnDef>\r\n        <ng-container *ngIf=\"column.checkboxRequired === true\">\r\n          <th mat-header-cell *matHeaderCellDef>\r\n            <!-- column checkbox -->\r\n            <mat-checkbox \r\n            (change)=\"$event ? masterToggle() : null\"\r\n                    [checked]=\"selection.hasValue() && isAllSelected()\"\r\n                    [indeterminate]=\"selection.hasValue() && !isAllSelected()\" (focus)=\"selectRow(column)\">\r\n            </mat-checkbox>\r\n          </th>\r\n        </ng-container>\r\n\r\n        <ng-container *ngIf=\"column.isSort === true\">\r\n          <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n            {{column.headerCellDef | titlecase}} \r\n            <div class=\"d-flex\">\r\n              <!-- <button mat-button matSuffix mat-icon-button aria-label=\"Clear\" [matMenuTriggerFor]=\"searchMenu\">  \r\n                <mat-icon>filter_list</mat-icon>\r\n              </button> -->\r\n              <mat-menu #searchMenu=\"matMenu\">\r\n                <ng-template matMenuContent>\r\n                  <!-- <div class=\"filterBox\" style=\"width: 200px; height: 233px;\">\r\n                    <div class=\"filter-search\" >\r\n                      <xy-input placeholder=\"Global Filter\" (value)=\"value\" small (keyup)=\"applyFilter($event)\"></xy-input>\r\n                    </div> \r\n                    \r\n                    <h6 class=\"filterTitle\">Filter By Column</h6>\r\n                    <div class=\"columnBox\">\r\n                      <div class=\"options\" *ngFor=\"let empfilter of empFilters;\">\r\n                        <h6>{{empfilter.name}}</h6>\r\n                        <div class=\"filter-group\"  *ngFor=\"let op of empfilter.options;  let i = index\"> \r\n                          <mat-checkbox  [value]=\"op\"\r\n                          (change)=\"applyEmpFilter($event, empfilter)\" (value)=\"empfilter.defaultValue\">\r\n                          {{op}}\r\n                          </mat-checkbox>\r\n                          <hr>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div>\r\n                        <h6>Custom Filter Fields</h6>\r\n                          <ng-container *ngTemplateOutlet=\"intlies\"></ng-container>\r\n                    </div>\r\n                      <br>\r\n                    </div> \r\n                 -->\r\n                </ng-template>\r\n              </mat-menu>\r\n            </div>  \r\n          </th>\r\n        </ng-container>\r\n\r\n        <ng-container *ngIf=\"column.isSort === false\">\r\n          <th mat-header-cell *matHeaderCellDef> {{column.headerCellDef | titlecase}}</th>\r\n        </ng-container>\r\n\r\n       \r\n        <td mat-cell *matCellDef=\"let data\">\r\n          <xy-table-cell [columnDef]=\"column\" [data]=\"data\"></xy-table-cell>\r\n         \r\n\r\n          <ng-container *ngIf=\"column.cellDef.type === 'menu'\">\r\n             <!-- <button mat-icon-button [matMenuTriggerFor]=\"menu\" class=\"arrowBtn\" aria-label=\"menu\">\r\n              <mat-icon>more_vert</mat-icon>\r\n            </button> \r\n             <mat-menu #menu=\"matMenu\">\r\n              <button mat-menu-item  (click)=\"edit(data)\" *ngIf=\"isEditRequired\">\r\n                <mat-icon>edit</mat-icon>\r\n                <span>Edit</span>\r\n              </button>\r\n              <button mat-menu-item  (click)=\"delete(data)\" *ngIf=\"isDeleteRequired\">\r\n                <mat-icon>delete_outline</mat-icon>\r\n                <span>Delete</span>\r\n              </button>\r\n            </mat-menu>  -->\r\n            <button mat-icon-button [matMenuTriggerFor]=\"menu\" aria-label=\"Example icon-button with a menu\" >\r\n              <mat-icon>more_vert</mat-icon>\r\n            </button>\r\n            <mat-menu #menu=\"matMenu\">\r\n              <button mat-menu-item (click)=\"delete(data)\">\r\n                <mat-icon>delete</mat-icon>\r\n                <span>Delete</span>\r\n              </button>\r\n              <button mat-menu-item (click)=\"edit(data)\">\r\n                <mat-icon>edit</mat-icon>\r\n                <span>Edit</span>\r\n              </button>\r\n              <button mat-menu-item (click)=\"onViewClick()\">\r\n                <mat-icon>visibility</mat-icon>\r\n                <span>View Details</span>\r\n              </button>\r\n            </mat-menu>\r\n          </ng-container>\r\n\r\n          <!-- <ng-container *ngIf=\"column.CustomELement == true\">\r\n            <ng-container *ngTemplateOutlet=\"intlies2\"></ng-container>\r\n          </ng-container> -->\r\n\r\n      \r\n          <!-- <ng-container matColumnDef=\"action\">\r\n            <mat-header-cell *matHeaderCellDef>Action</mat-header-cell>\r\n            <mat-cell *matCellDef=\"let column\" action-buttons  (buttonAction)=\"onTableAction($event)\">\r\n              {{ column.visible }}\r\n            </mat-cell>\r\n          </ng-container>  -->\r\n          \r\n          <!-- column checkbox -->\r\n            \r\n          <ng-container  *ngIf=\"column.checkboxRequired == true\"> \r\n            <mat-checkbox (click)=\"$event.stopPropagation()\"\r\n              (change)=\"$event ? selection.toggle(data) : null\"\r\n              [checked]=\"selection.isSelected(data)\">\r\n            </mat-checkbox>\r\n          </ng-container>\r\n\r\n          \r\n          <!-- <ng-container *ngIf=\"column.htmlElement == true\"> \r\n              <xy-button light-weight-button color=\"accent\"  (click)=\"onClick($event)\">{{buttonText}}</xy-button>\r\n          </ng-container> -->\r\n\r\n        </td>\r\n     \r\n      \r\n    </ng-container>\r\n\r\n    <!-- Expanded Content Column -->\r\n    <ng-container matColumnDef=\"expandedDetail\">\r\n      <tr>\r\n        <td mat-cell *matCellDef=\"let element\" [attr.colspan]=\"columnsToDisplay.length\">\r\n          <div class=\"inner-table-detail\" *ngIf=\"expandRequired\"\r\n            [@detailExpand]=\"element?.id == expandedElement?.id ? 'expanded' : 'collapsed'\">\r\n            <div class=\"collapse-table mat-elevation-z8\" *ngIf=\"expandedElement\">\r\n                <!-- Expandable View Data -->\r\n                <div *ngIf=\"expandAsData\">\r\n                  <p>{{element?.expandableRow?.expandData}}</p>\r\n                </div>\r\n                <!-- Expandable View table -->\r\n                <div *ngIf=\"expandAsTableData\">\r\n                  <table mat-table multiTemplateDataRows [dataSource]=\"expandedDataSource\" aria-describedby=\"table\" \r\n                    class=\"scroller\" >\r\n      \r\n                    <ng-container *ngFor=\"let column of expandcolumnDefs\" [matColumnDef]=column.columnDef>\r\n                      <ng-container *ngIf=\"column.checkboxRequired === true\">\r\n                        <th mat-header-cell *matHeaderCellDef></th>\r\n                      </ng-container>\r\n\r\n                      <ng-container>\r\n                        <th mat-header-cell *matHeaderCellDef> {{column.headerCellDef | titlecase}} </th>\r\n                      </ng-container>\r\n      \r\n                      <td mat-cell *matCellDef=\"let data\">\r\n                        <xy-table-cell [columnDef]=\"column\" [data]=\"data\"></xy-table-cell>\r\n                       \r\n                        <!-- column checkbox -->\r\n                        <ng-container *ngIf=\"column.checkboxRequired === true\">\r\n                          <mat-checkbox (click)=\"$event.stopPropagation()\"\r\n                          (change)=\"$event ? selection.toggle(data) : null\"\r\n                          [checked]=\"selection.isSelected(data)\"\r\n                          >\r\n                        </mat-checkbox>\r\n                        </ng-container>\r\n                      </td>\r\n                    </ng-container>\r\n      \r\n                    <!-- <ng-container>\r\n                      <tr mat-header-row *matHeaderRowDef=\"getDisplayedColumns(); sticky:true\"></tr>\r\n                      <tr mat-row *matRowDef=\"let element; columns: getDisplayedColumns();\" \r\n                      [ngClass]=\"{highlighted: selection.isSelected(element)}\" (click)=\"selectRow(element)\">\r\n                      </tr>\r\n                    </ng-container> -->\r\n                  </table>\r\n                </div>\r\n            </div>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n\r\n          \r\n      \r\n      <tr mat-header-row *matHeaderRowDef=\"getDisplayedColumns(); sticky:true\"></tr>\r\n\r\n      <tr mat-row *matRowDef=\"let element; columns:  dataSource.data.length > 0 && dataSource.filteredData.length > 0 ? getDisplayedColumns() :  ['empty-row'];\"\r\n        [class.accordion-element-row]=\"element.addresses?.data.length\"\r\n        [class.accordion-active]=\"expandedElement?.id === element?.id\"\r\n        [ngClass]=\"{highlighted: selection.isSelected(element)}\" (click)=\"selectRow(element)\">\r\n      </tr>\r\n      <tr mat-row  ></tr>\r\n    </ng-container>\r\n    \r\n  </table>\r\n\r\n  <td class=\"noData\" *ngIf=\"dataSource.filteredData.length <= 0\">\r\n    {{noDataMessage}}\r\n  </td>\r\n\r\n  <mat-paginator [length]=\"length\"\r\n                [pageSize]=\"pageSize\"\r\n                [pageSizeOptions]=\"pageSizeOptions\"\r\n                [attr.aria-label]=\"ariaLabel\"\r\n                showFirstLastButtons >\r\n  </mat-paginator>\r\n\r\n</div>\r\n\r\n<!-- <div class=\"table-actionbar\">\r\n  <div class=\"action-box\">\r\n    <button color=\"warn\" mat-mini-fab aria-label=\"Example icon button with a home icon\"  (click)=\"removeSelectedRows()\">\r\n      <mat-icon>delete</mat-icon>\r\n    </button>\r\n    <button color=\"primary\" mat-mini-fab aria-label=\"Example icon button with a home icon\" >\r\n      <mat-icon>refresh</mat-icon>\r\n    </button>\r\n\r\n    <button  mat-mini-fab color=\"primary\"  [matMenuTriggerFor]=\"menu\" class=\"table-config-menu\">\r\n      <mat-icon aria-hidden=\"false\" aria-label=\"Example home icon\">settings</mat-icon>\r\n      <mat-menu #menu=\"matMenu\">\r\n        <span class=\"table-config-menu-label\">Edit Columns</span>\r\n        <div class=\"table-config-menu-options\">\r\n          <mat-checkbox \r\n            *ngFor=\"let cd of columns; let i = index\"\r\n            (click)=\"$event.stopPropagation()\"\r\n            [(ngModel)]=\"cd.visible\">\r\n            {{cd.header}}\r\n          </mat-checkbox>\r\n        </div>\r\n    </mat-menu>\r\n    </button>\r\n    \r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n<mat-table  #table [dataSource]=\"dataSource\" multiTemplateDataRows class=\"mat-elevation-z8\" matSort>\r\n\r\n\r\n  <ng-container matColumnDef=\"select\" >\r\n    <mat-header-cell *matHeaderCellDef>\r\n      <mat-checkbox color=\"primary\" (change)=\"$event ? masterToggle() : null\"\r\n        [checked]=\"selection.hasValue() && isAllSelected()\" [indeterminate]=\"selection.hasValue() && !isAllSelected()\">\r\n      </mat-checkbox>\r\n    </mat-header-cell>\r\n    <mat-cell *cdkCellDef=\"let row\">\r\n      <mat-checkbox color=\"primary\" (click)=\"$event.stopPropagation()\" (change)=\"$event ? selection.toggle(row) : null\"\r\n        [checked]=\"selection.isSelected(row)\">\r\n      </mat-checkbox>\r\n    </mat-cell>\r\n  </ng-container>\r\n\r\n\r\n  <ng-container *ngFor=\"let column of columns;\"  [matColumnDef]=\"column.columnDef\">\r\n    <mat-header-cell *cdkHeaderCellDef mat-sort-header>\r\n        {{column.header}}\r\n        <div class=\"d-flex\">\r\n          <button mat-button matSuffix mat-icon-button aria-label=\"Clear\" [matMenuTriggerFor]=\"menu\">\r\n            <mat-icon>filter_list</mat-icon>\r\n          </button>\r\n          <mat-menu #menu>\r\n            <ng-template matMenuContent>\r\n              <div>\r\n                <mat-checkbox class=\"mat-menu-item\">{{column.visible}}</mat-checkbox>  \r\n              </div>\r\n              <div class=\"filterBox\">\r\n                  <div class=\"filterGroup\">\r\n                    <label for=\"\">By {{column.header}}</label>\r\n                    <input type=\"text\" [(ngModel)]=\"value\" (keyup)=\"applyFilter($event)\"> \r\n                  </div>\r\n                  <div>\r\n                    <ng-container *ngTemplateOutlet=\"intlies\"></ng-container>\r\n                  </div>\r\n              </div>\r\n            </ng-template>\r\n          </mat-menu>\r\n        </div>\r\n    </mat-header-cell>\r\n    <mat-cell *cdkCellDef=\"let row\">{{ row[column.columnDef] }}</mat-cell>\r\n  </ng-container>\r\n\r\n  <ng-container matColumnDef=\"expandedDetail\">\r\n    <tr>\r\n      <td mat-cell *matCellDef=\"let element\" [attr.colspan]=\"columnsToDisplay.length\">\r\n        <div class=\"inner-table-detail\" *ngIf=\"expandRequired\"\r\n          [@detailExpand]=\"element?.id == expandedElement?.id ? 'expanded' : 'collapsed'\">\r\n          <div class=\"collapse-table mat-elevation-z8\" *ngIf=\"expandedElement\">\r\n             \r\n              <div *ngIf=\"expandAsData\">\r\n                <p>{{element?.expandableRow?.expandData}}</p>\r\n              </div>\r\n\r\n              <div *ngIf=\"expandAsTableData\">\r\n                <table mat-table multiTemplateDataRows [dataSource]=\"expandedDataSource\" aria-describedby=\"table\" \r\n                  class=\"scroller\" >\r\n    \r\n                  <ng-container *ngFor=\"let column of expandcolumnDefs\" [matColumnDef]=column.columnDef>\r\n                    <ng-container >\r\n                      <th mat-header-cell *matHeaderCellDef>\r\n                      </th>\r\n                    </ng-container>\r\n                    <ng-container>\r\n                      <th mat-header-cell *matHeaderCellDef> {{column.columnDef | titlecase}} </th>\r\n                    </ng-container>\r\n    \r\n                  </ng-container>\r\n    \r\n                  <ng-container >\r\n                    <tr mat-header-row *matHeaderRowDef=\"expandColumnsToDisplay; sticky:true\"></tr>\r\n                    <tr mat-row *matRowDef=\"let element; columns: expandColumnsToDisplay;\" \r\n                    [ngClass]=\"{highlighted: selection.isSelected(element)}\" (click)=\"selectRow(element)\">\r\n                    </tr>\r\n                  </ng-container>\r\n                </table>\r\n              </div>\r\n          </div>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n    <tr mat-header-row *matHeaderRowDef=\"columnsToDisplay; sticky:true\"></tr>\r\n\r\n    <tr mat-row  *matRowDef=\"let data; columns: ['expandedDetail']\"  class=\"innertable-row\"></tr>\r\n  </ng-container>\r\n  \r\n\r\n \r\n  <ng-container matColumnDef=\"action\">\r\n    <mat-header-cell *matHeaderCellDef>Action</mat-header-cell>\r\n    <mat-cell *matCellDef=\"let element\" action-buttons  (buttonAction)=\"onTableAction($event)\">\r\n      {{ element.weight }}\r\n    </mat-cell>\r\n  </ng-container>\r\n  \r\n  <mat-header-row *matHeaderRowDef=\"getDisplayedColumns();\" ></mat-header-row>\r\n  <mat-row *matRowDef=\"let row; columns: getDisplayedColumns();\"  [class.accordion-element-row]=\"row.addresses?.data.length\"\r\n  [class.accordion-active]=\"expandedElement?.id === row?.id\"\r\n  [ngClass]=\"{highlighted: selection.isSelected(row)}\" (click)=\"selectRow(row)\"></mat-row>\r\n</mat-table>\r\n\r\n\r\n<mat-paginator [length]=\"length\"\r\n              [pageSize]=\"pageSize\"\r\n              [pageSizeOptions]=\"pageSizeOptions\"\r\n              [attr.aria-label]=\"ariaLabel\"\r\n              showFirstLastButtons >\r\n</mat-paginator>  -->", styles: [""], dependencies: [{ kind: "directive", type: i1.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i2.MatTable, selector: "mat-table, table[mat-table]", exportAs: ["matTable"] }, { kind: "directive", type: i2.MatHeaderCellDef, selector: "[matHeaderCellDef]" }, { kind: "directive", type: i2.MatHeaderRowDef, selector: "[matHeaderRowDef]", inputs: ["matHeaderRowDef", "matHeaderRowDefSticky"] }, { kind: "directive", type: i2.MatColumnDef, selector: "[matColumnDef]", inputs: ["sticky", "matColumnDef"] }, { kind: "directive", type: i2.MatCellDef, selector: "[matCellDef]" }, { kind: "directive", type: i2.MatRowDef, selector: "[matRowDef]", inputs: ["matRowDefColumns", "matRowDefWhen"] }, { kind: "directive", type: i2.MatHeaderCell, selector: "mat-header-cell, th[mat-header-cell]" }, { kind: "directive", type: i2.MatCell, selector: "mat-cell, td[mat-cell]" }, { kind: "component", type: i2.MatHeaderRow, selector: "mat-header-row, tr[mat-header-row]", exportAs: ["matHeaderRow"] }, { kind: "component", type: i2.MatRow, selector: "mat-row, tr[mat-row]", exportAs: ["matRow"] }, { kind: "component", type: i3.MatIconButton, selector: "button[mat-icon-button]", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }, { kind: "component", type: i4.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { kind: "component", type: i5.MatMenu, selector: "mat-menu", exportAs: ["matMenu"] }, { kind: "component", type: i5.MatMenuItem, selector: "[mat-menu-item]", inputs: ["disabled", "disableRipple", "role"], exportAs: ["matMenuItem"] }, { kind: "directive", type: i5.MatMenuContent, selector: "ng-template[matMenuContent]" }, { kind: "directive", type: i5.MatMenuTrigger, selector: "[mat-menu-trigger-for], [matMenuTriggerFor]", exportAs: ["matMenuTrigger"] }, { kind: "component", type: i6.MatPaginator, selector: "mat-paginator", inputs: ["disabled"], exportAs: ["matPaginator"] }, { kind: "component", type: i7.MatCheckbox, selector: "mat-checkbox", inputs: ["disableRipple", "color", "tabIndex"], exportAs: ["matCheckbox"] }, { kind: "directive", type: i8.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i8.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "directive", type: i9.MatSort, selector: "[matSort]", inputs: ["matSortDisabled", "matSortActive", "matSortStart", "matSortDirection", "matSortDisableClear"], outputs: ["matSortChange"], exportAs: ["matSort"] }, { kind: "component", type: i9.MatSortHeader, selector: "[mat-sort-header]", inputs: ["disabled", "mat-sort-header", "arrowPosition", "start", "sortActionDescription", "disableClear"], exportAs: ["matSortHeader"] }, { kind: "component", type: i10.XyInputComponent, selector: "xy-input", inputs: ["matAutocomplete", "name", "label", "placeholder", "note", "formGroup", "formControl", "inputFormControl", "errorStateMatcher", "isXyAutocomplete", "isDatePicker", "datePicker", "matDatepicker", "readonly", "type", "required", "small", "disabled", "has-error", "is-loading", "edited", "success", "value"] }, { kind: "component", type: i11.XyButtonComponent, selector: "xy-button", inputs: ["type", "id", "name", "button-type", "color", "disableRipple", "disabled", "aria-label", "default-focus", "tabindex", "text-button", "light-weight-button", "standard-button", "icon-button", "cdkFocusInitial", "icon"] }, { kind: "component", type: i12.XyTableCellComponent, selector: "xy-table-cell", inputs: ["columnDef", "data"] }, { kind: "pipe", type: i1.TitleCasePipe, name: "titlecase" }], animations: [
            trigger('detailExpand', [
                state('collapsed', style({ height: '0px' })),
                state('expanded', style({ height: '*' })),
                transition('expanded <=> collapsed', animate('225ms cubic-bezier(0.4, 0.0, 0.2, 1)')),
            ]),
        ] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.1", ngImport: i0, type: XyTableComponent, decorators: [{
            type: Component,
            args: [{ selector: 'xy-table', animations: [
                        trigger('detailExpand', [
                            state('collapsed', style({ height: '0px' })),
                            state('expanded', style({ height: '*' })),
                            transition('expanded <=> collapsed', animate('225ms cubic-bezier(0.4, 0.0, 0.2, 1)')),
                        ]),
                    ], template: "<!-- <div class=\"delete-btn\">\r\n  <mat-icon (click)=\"removeSelectedRows()\">delete</mat-icon>\r\n</div> -->\r\n\r\n <!-- <div class=\"mat-elevation-z8\">\r\n  <table mat-table multiTemplateDataRows [dataSource]=\"dataSource\" aria-describedby=\"table\" matSort class=\"scroller\">\r\n    <ng-container *ngFor=\"let column of columnDefs\" [matColumnDef]=column.columnDef>\r\n        <ng-container *ngIf=\"column.checkboxRequired === true\">\r\n          <th mat-header-cell *matHeaderCellDef>\r\n  \r\n            <mat-checkbox \r\n                  (change)=\"$event ? masterToggle() : null\"\r\n                  [checked]=\"selection.hasValue() && isAllSelected()\"\r\n                  [indeterminate]=\"selection.hasValue() && !isAllSelected()\" (focus)=\"selectRow(column)\">\r\n            </mat-checkbox> \r\n          </th> \r\n        </ng-container>\r\n        <ng-container *ngIf=\"column.isSort === true\">\r\n          <th mat-header-cell *matHeaderCellDef mat-sort-header> {{column.headerCellDef | titlecase}} </th>\r\n        </ng-container> \r\n        <ng-container *ngIf=\"column.isSort === false\">\r\n          <th mat-header-cell *matHeaderCellDef> {{column.headerCellDef | titlecase}} </th>\r\n        </ng-container>\r\n\r\n\r\n        <td mat-cell *matCellDef=\"let data\">\r\n          <xy-table-cell [columnDef]=\"column\" [data]=\"data\">  </xy-table-cell>\r\n          <ng-container *ngIf=\"column.cellDef.type === 'menu'\">\r\n            <button mat-icon-button [matMenuTriggerFor]=\"menu\" class=\"arrowBtn\" aria-label=\"menu\">\r\n              <mat-icon>more_vert</mat-icon>\r\n            </button> \r\n            <mat-menu #menu=\"matMenu\">\r\n              <button mat-menu-item   (click)=\"edit(data)\" *ngIf=\"isEditRequired\">\r\n                <mat-icon>edit</mat-icon>\r\n                <span>Edit</span>\r\n              </button>\r\n              <button mat-menu-item  (click)=\"delete(data)\" *ngIf=\"isDeleteRequired\">\r\n                <mat-icon>delete_outline</mat-icon>\r\n                <span>Delete</span>\r\n              </button> \r\n            </mat-menu> \r\n          </ng-container>\r\n\r\n          <ng-container *ngIf=\"column.cellDef.type === 'action'\">\r\n            <button mat-icon-button aria-label=\"expand row\" class=\"arrowBtn\" (click)=\"toggleRow(data)\" *ngIf=\"expandRequired\">\r\n                <mat-icon *ngIf=\"expandedElement !== data\">keyboard_arrow_down</mat-icon>\r\n                <mat-icon *ngIf=\"expandedElement === data\">keyboard_arrow_up</mat-icon>\r\n            </button>\r\n          </ng-container>\r\n          \r\n    <ng-container  *ngIf=\"column.checkboxRequired == true\"> \r\n              <mat-checkbox (click)=\"$event.stopPropagation()\"\r\n                (change)=\"$event ? selection.toggle(data) : null\"\r\n                [checked]=\"selection.isSelected(data)\">\r\n              </mat-checkbox>\r\n          </ng-container>\r\n        </td>\r\n    </ng-container>\r\n  \r\n    <ng-container matColumnDef=\"expandedDetail\">\r\n      <tr>\r\n        <td mat-cell *matCellDef=\"let element\" [attr.colspan]=\"columnsToDisplay.length\">\r\n          <div class=\"inner-table-detail\" *ngIf=\"expandRequired\"\r\n            [@detailExpand]=\"element?.id == expandedElement?.id ? 'expanded' : 'collapsed'\">\r\n            <div class=\"collapse-table mat-elevation-z8\" *ngIf=\"expandedElement\">\r\n               \r\n              \r\n                <div *ngIf=\"expandAsData\">\r\n                  <p>{{element?.expandableRow?.expandData}}</p>\r\n                </div>\r\n  \r\n  \r\n                <div *ngIf=\"expandAsTableData\">\r\n                  <table mat-table multiTemplateDataRows [dataSource]=\"expandedDataSource\" aria-describedby=\"table\" \r\n                    class=\"scroller\" >\r\n      \r\n                    <ng-container *ngFor=\"let column of expandcolumnDefs\" [matColumnDef]=column.columnDef>\r\n                      <ng-container *ngIf=\"column.checkboxRequired === true\">\r\n                        <th mat-header-cell *matHeaderCellDef>\r\n                        </th>\r\n                      </ng-container>\r\n                      <ng-container>\r\n                        <th mat-header-cell *matHeaderCellDef> {{column.headerCellDef | titlecase}} </th>\r\n                      </ng-container>\r\n      \r\n                      <td mat-cell *matCellDef=\"let data\">\r\n                        <xy-table-cell [columnDef]=\"column\" [data]=\"data\"></xy-table-cell>\r\n                       \r\n                    \r\n                        <ng-container *ngIf=\"column.checkboxRequired === true\">\r\n                          <mat-checkbox (click)=\"$event.stopPropagation()\"\r\n                          (change)=\"$event ? selection.toggle(data) : null\"\r\n                          [checked]=\"selection.isSelected(data)\"\r\n                          >\r\n                        </mat-checkbox>\r\n                        </ng-container>\r\n                      </td>\r\n                    </ng-container>\r\n      \r\n                    <ng-container >\r\n                      <tr mat-header-row *matHeaderRowDef=\"expandColumnsToDisplay; sticky:true\"></tr>\r\n                      <tr mat-row *matRowDef=\"let element; columns: expandColumnsToDisplay;\" \r\n                      [ngClass]=\"{highlighted: selection.isSelected(element)}\" (click)=\"selectRow(element)\">\r\n                      </tr>\r\n                    </ng-container>\r\n                  </table>\r\n                </div>\r\n               \r\n            </div>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n      <tr mat-header-row *matHeaderRowDef=\"columnsToDisplay; sticky:true\"></tr>\r\n\r\n      <tr mat-row *matRowDef=\"let element, let data; columns: columnsToDisplay;\"\r\n        [class.accordion-element-row]=\"element.addresses?.data.length\"\r\n        [class.accordion-active]=\"expandedElement?.id === element?.id\"\r\n        (click)=\"onClickRight($event, data)\" (mousedown)=\"onMouseDown($event, data)\" (mouseup)=\"onMouseUp($event, data)\"\r\n        [ngClass]=\"{highlighted: selection.isSelected(element)}\" (click)=\"selectRow(element)\">\r\n      </tr>\r\n      \r\n      <tr mat-row  *matRowDef=\"let data; columns: ['expandedDetail']\"  class=\"innertable-row\"></tr>\r\n    </ng-container>\r\n    \r\n\r\n  </table>\r\n  \r\n  <mat-paginator [length]=\"length\"\r\n                [pageSize]=\"pageSize\"\r\n                [pageSizeOptions]=\"pageSizeOptions\"\r\n                [attr.aria-label]=\"ariaLabel\"\r\n                showFirstLastButtons >\r\n  </mat-paginator>\r\n</div> -->\r\n<div class=\"table-actionbar\" *ngIf=\"tableactionBar\">\r\n  <div class=\"left-col\">\r\n    <div class=\"filter-search\" *ngIf=\"tableSearchBar\">\r\n      <xy-input placeholder=\"{{searchPlaceholder}}\" (value)=\"value\" small (keyup)=\"applyFilter($event)\"></xy-input>\r\n    </div> \r\n  </div>\r\n  <div class=\"right-col\">\r\n      <xy-button icon-button icon=\"delete\" color=\"critical\" (click)=\"removeSelectedRows()\" *ngIf=\"deleteAllTrig\"> </xy-button>\r\n      <xy-button icon-button icon=\"sync\" color=\"accent\" (click)=\"refresh($event)\" *ngIf=\"tableRefresh\"></xy-button>\r\n      <xy-button icon-button color=\"accent\" icon=\"tune\"  [matMenuTriggerFor]=\"menu\" class=\"table-config-menu\" *ngIf=\"columnHideTrig\">\r\n        <mat-menu #menu=\"matMenu\">\r\n          <span class=\"table-config-menu-label\">Edit Columns</span>\r\n          <div class=\"table-config-menu-options\">\r\n            <mat-checkbox \r\n              *ngFor=\"let cd of columnDefs; let i = index\"\r\n              (click)=\"$event.stopPropagation()\" [(ngModel)]=\"cd.visible\">\r\n              {{cd.headerCellDef}}\r\n            </mat-checkbox>\r\n          </div>\r\n      </mat-menu>\r\n      </xy-button>\r\n  </div>\r\n</div>\r\n\r\n\r\n<div class=\"mat-elevation-z8\">\r\n  <table mat-table multiTemplateDataRows [dataSource]=\"dataSource\" aria-describedby=\"table\" matSort class=\"scroller\">\r\n    <ng-container *ngFor=\"let column of columnDefs\" [matColumnDef]=column.columnDef>\r\n        <ng-container *ngIf=\"column.checkboxRequired === true\">\r\n          <th mat-header-cell *matHeaderCellDef>\r\n            <!-- column checkbox -->\r\n            <mat-checkbox \r\n            (change)=\"$event ? masterToggle() : null\"\r\n                    [checked]=\"selection.hasValue() && isAllSelected()\"\r\n                    [indeterminate]=\"selection.hasValue() && !isAllSelected()\" (focus)=\"selectRow(column)\">\r\n            </mat-checkbox>\r\n          </th>\r\n        </ng-container>\r\n\r\n        <ng-container *ngIf=\"column.isSort === true\">\r\n          <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n            {{column.headerCellDef | titlecase}} \r\n            <div class=\"d-flex\">\r\n              <!-- <button mat-button matSuffix mat-icon-button aria-label=\"Clear\" [matMenuTriggerFor]=\"searchMenu\">  \r\n                <mat-icon>filter_list</mat-icon>\r\n              </button> -->\r\n              <mat-menu #searchMenu=\"matMenu\">\r\n                <ng-template matMenuContent>\r\n                  <!-- <div class=\"filterBox\" style=\"width: 200px; height: 233px;\">\r\n                    <div class=\"filter-search\" >\r\n                      <xy-input placeholder=\"Global Filter\" (value)=\"value\" small (keyup)=\"applyFilter($event)\"></xy-input>\r\n                    </div> \r\n                    \r\n                    <h6 class=\"filterTitle\">Filter By Column</h6>\r\n                    <div class=\"columnBox\">\r\n                      <div class=\"options\" *ngFor=\"let empfilter of empFilters;\">\r\n                        <h6>{{empfilter.name}}</h6>\r\n                        <div class=\"filter-group\"  *ngFor=\"let op of empfilter.options;  let i = index\"> \r\n                          <mat-checkbox  [value]=\"op\"\r\n                          (change)=\"applyEmpFilter($event, empfilter)\" (value)=\"empfilter.defaultValue\">\r\n                          {{op}}\r\n                          </mat-checkbox>\r\n                          <hr>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div>\r\n                        <h6>Custom Filter Fields</h6>\r\n                          <ng-container *ngTemplateOutlet=\"intlies\"></ng-container>\r\n                    </div>\r\n                      <br>\r\n                    </div> \r\n                 -->\r\n                </ng-template>\r\n              </mat-menu>\r\n            </div>  \r\n          </th>\r\n        </ng-container>\r\n\r\n        <ng-container *ngIf=\"column.isSort === false\">\r\n          <th mat-header-cell *matHeaderCellDef> {{column.headerCellDef | titlecase}}</th>\r\n        </ng-container>\r\n\r\n       \r\n        <td mat-cell *matCellDef=\"let data\">\r\n          <xy-table-cell [columnDef]=\"column\" [data]=\"data\"></xy-table-cell>\r\n         \r\n\r\n          <ng-container *ngIf=\"column.cellDef.type === 'menu'\">\r\n             <!-- <button mat-icon-button [matMenuTriggerFor]=\"menu\" class=\"arrowBtn\" aria-label=\"menu\">\r\n              <mat-icon>more_vert</mat-icon>\r\n            </button> \r\n             <mat-menu #menu=\"matMenu\">\r\n              <button mat-menu-item  (click)=\"edit(data)\" *ngIf=\"isEditRequired\">\r\n                <mat-icon>edit</mat-icon>\r\n                <span>Edit</span>\r\n              </button>\r\n              <button mat-menu-item  (click)=\"delete(data)\" *ngIf=\"isDeleteRequired\">\r\n                <mat-icon>delete_outline</mat-icon>\r\n                <span>Delete</span>\r\n              </button>\r\n            </mat-menu>  -->\r\n            <button mat-icon-button [matMenuTriggerFor]=\"menu\" aria-label=\"Example icon-button with a menu\" >\r\n              <mat-icon>more_vert</mat-icon>\r\n            </button>\r\n            <mat-menu #menu=\"matMenu\">\r\n              <button mat-menu-item (click)=\"delete(data)\">\r\n                <mat-icon>delete</mat-icon>\r\n                <span>Delete</span>\r\n              </button>\r\n              <button mat-menu-item (click)=\"edit(data)\">\r\n                <mat-icon>edit</mat-icon>\r\n                <span>Edit</span>\r\n              </button>\r\n              <button mat-menu-item (click)=\"onViewClick()\">\r\n                <mat-icon>visibility</mat-icon>\r\n                <span>View Details</span>\r\n              </button>\r\n            </mat-menu>\r\n          </ng-container>\r\n\r\n          <!-- <ng-container *ngIf=\"column.CustomELement == true\">\r\n            <ng-container *ngTemplateOutlet=\"intlies2\"></ng-container>\r\n          </ng-container> -->\r\n\r\n      \r\n          <!-- <ng-container matColumnDef=\"action\">\r\n            <mat-header-cell *matHeaderCellDef>Action</mat-header-cell>\r\n            <mat-cell *matCellDef=\"let column\" action-buttons  (buttonAction)=\"onTableAction($event)\">\r\n              {{ column.visible }}\r\n            </mat-cell>\r\n          </ng-container>  -->\r\n          \r\n          <!-- column checkbox -->\r\n            \r\n          <ng-container  *ngIf=\"column.checkboxRequired == true\"> \r\n            <mat-checkbox (click)=\"$event.stopPropagation()\"\r\n              (change)=\"$event ? selection.toggle(data) : null\"\r\n              [checked]=\"selection.isSelected(data)\">\r\n            </mat-checkbox>\r\n          </ng-container>\r\n\r\n          \r\n          <!-- <ng-container *ngIf=\"column.htmlElement == true\"> \r\n              <xy-button light-weight-button color=\"accent\"  (click)=\"onClick($event)\">{{buttonText}}</xy-button>\r\n          </ng-container> -->\r\n\r\n        </td>\r\n     \r\n      \r\n    </ng-container>\r\n\r\n    <!-- Expanded Content Column -->\r\n    <ng-container matColumnDef=\"expandedDetail\">\r\n      <tr>\r\n        <td mat-cell *matCellDef=\"let element\" [attr.colspan]=\"columnsToDisplay.length\">\r\n          <div class=\"inner-table-detail\" *ngIf=\"expandRequired\"\r\n            [@detailExpand]=\"element?.id == expandedElement?.id ? 'expanded' : 'collapsed'\">\r\n            <div class=\"collapse-table mat-elevation-z8\" *ngIf=\"expandedElement\">\r\n                <!-- Expandable View Data -->\r\n                <div *ngIf=\"expandAsData\">\r\n                  <p>{{element?.expandableRow?.expandData}}</p>\r\n                </div>\r\n                <!-- Expandable View table -->\r\n                <div *ngIf=\"expandAsTableData\">\r\n                  <table mat-table multiTemplateDataRows [dataSource]=\"expandedDataSource\" aria-describedby=\"table\" \r\n                    class=\"scroller\" >\r\n      \r\n                    <ng-container *ngFor=\"let column of expandcolumnDefs\" [matColumnDef]=column.columnDef>\r\n                      <ng-container *ngIf=\"column.checkboxRequired === true\">\r\n                        <th mat-header-cell *matHeaderCellDef></th>\r\n                      </ng-container>\r\n\r\n                      <ng-container>\r\n                        <th mat-header-cell *matHeaderCellDef> {{column.headerCellDef | titlecase}} </th>\r\n                      </ng-container>\r\n      \r\n                      <td mat-cell *matCellDef=\"let data\">\r\n                        <xy-table-cell [columnDef]=\"column\" [data]=\"data\"></xy-table-cell>\r\n                       \r\n                        <!-- column checkbox -->\r\n                        <ng-container *ngIf=\"column.checkboxRequired === true\">\r\n                          <mat-checkbox (click)=\"$event.stopPropagation()\"\r\n                          (change)=\"$event ? selection.toggle(data) : null\"\r\n                          [checked]=\"selection.isSelected(data)\"\r\n                          >\r\n                        </mat-checkbox>\r\n                        </ng-container>\r\n                      </td>\r\n                    </ng-container>\r\n      \r\n                    <!-- <ng-container>\r\n                      <tr mat-header-row *matHeaderRowDef=\"getDisplayedColumns(); sticky:true\"></tr>\r\n                      <tr mat-row *matRowDef=\"let element; columns: getDisplayedColumns();\" \r\n                      [ngClass]=\"{highlighted: selection.isSelected(element)}\" (click)=\"selectRow(element)\">\r\n                      </tr>\r\n                    </ng-container> -->\r\n                  </table>\r\n                </div>\r\n            </div>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n\r\n          \r\n      \r\n      <tr mat-header-row *matHeaderRowDef=\"getDisplayedColumns(); sticky:true\"></tr>\r\n\r\n      <tr mat-row *matRowDef=\"let element; columns:  dataSource.data.length > 0 && dataSource.filteredData.length > 0 ? getDisplayedColumns() :  ['empty-row'];\"\r\n        [class.accordion-element-row]=\"element.addresses?.data.length\"\r\n        [class.accordion-active]=\"expandedElement?.id === element?.id\"\r\n        [ngClass]=\"{highlighted: selection.isSelected(element)}\" (click)=\"selectRow(element)\">\r\n      </tr>\r\n      <tr mat-row  ></tr>\r\n    </ng-container>\r\n    \r\n  </table>\r\n\r\n  <td class=\"noData\" *ngIf=\"dataSource.filteredData.length <= 0\">\r\n    {{noDataMessage}}\r\n  </td>\r\n\r\n  <mat-paginator [length]=\"length\"\r\n                [pageSize]=\"pageSize\"\r\n                [pageSizeOptions]=\"pageSizeOptions\"\r\n                [attr.aria-label]=\"ariaLabel\"\r\n                showFirstLastButtons >\r\n  </mat-paginator>\r\n\r\n</div>\r\n\r\n<!-- <div class=\"table-actionbar\">\r\n  <div class=\"action-box\">\r\n    <button color=\"warn\" mat-mini-fab aria-label=\"Example icon button with a home icon\"  (click)=\"removeSelectedRows()\">\r\n      <mat-icon>delete</mat-icon>\r\n    </button>\r\n    <button color=\"primary\" mat-mini-fab aria-label=\"Example icon button with a home icon\" >\r\n      <mat-icon>refresh</mat-icon>\r\n    </button>\r\n\r\n    <button  mat-mini-fab color=\"primary\"  [matMenuTriggerFor]=\"menu\" class=\"table-config-menu\">\r\n      <mat-icon aria-hidden=\"false\" aria-label=\"Example home icon\">settings</mat-icon>\r\n      <mat-menu #menu=\"matMenu\">\r\n        <span class=\"table-config-menu-label\">Edit Columns</span>\r\n        <div class=\"table-config-menu-options\">\r\n          <mat-checkbox \r\n            *ngFor=\"let cd of columns; let i = index\"\r\n            (click)=\"$event.stopPropagation()\"\r\n            [(ngModel)]=\"cd.visible\">\r\n            {{cd.header}}\r\n          </mat-checkbox>\r\n        </div>\r\n    </mat-menu>\r\n    </button>\r\n    \r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n<mat-table  #table [dataSource]=\"dataSource\" multiTemplateDataRows class=\"mat-elevation-z8\" matSort>\r\n\r\n\r\n  <ng-container matColumnDef=\"select\" >\r\n    <mat-header-cell *matHeaderCellDef>\r\n      <mat-checkbox color=\"primary\" (change)=\"$event ? masterToggle() : null\"\r\n        [checked]=\"selection.hasValue() && isAllSelected()\" [indeterminate]=\"selection.hasValue() && !isAllSelected()\">\r\n      </mat-checkbox>\r\n    </mat-header-cell>\r\n    <mat-cell *cdkCellDef=\"let row\">\r\n      <mat-checkbox color=\"primary\" (click)=\"$event.stopPropagation()\" (change)=\"$event ? selection.toggle(row) : null\"\r\n        [checked]=\"selection.isSelected(row)\">\r\n      </mat-checkbox>\r\n    </mat-cell>\r\n  </ng-container>\r\n\r\n\r\n  <ng-container *ngFor=\"let column of columns;\"  [matColumnDef]=\"column.columnDef\">\r\n    <mat-header-cell *cdkHeaderCellDef mat-sort-header>\r\n        {{column.header}}\r\n        <div class=\"d-flex\">\r\n          <button mat-button matSuffix mat-icon-button aria-label=\"Clear\" [matMenuTriggerFor]=\"menu\">\r\n            <mat-icon>filter_list</mat-icon>\r\n          </button>\r\n          <mat-menu #menu>\r\n            <ng-template matMenuContent>\r\n              <div>\r\n                <mat-checkbox class=\"mat-menu-item\">{{column.visible}}</mat-checkbox>  \r\n              </div>\r\n              <div class=\"filterBox\">\r\n                  <div class=\"filterGroup\">\r\n                    <label for=\"\">By {{column.header}}</label>\r\n                    <input type=\"text\" [(ngModel)]=\"value\" (keyup)=\"applyFilter($event)\"> \r\n                  </div>\r\n                  <div>\r\n                    <ng-container *ngTemplateOutlet=\"intlies\"></ng-container>\r\n                  </div>\r\n              </div>\r\n            </ng-template>\r\n          </mat-menu>\r\n        </div>\r\n    </mat-header-cell>\r\n    <mat-cell *cdkCellDef=\"let row\">{{ row[column.columnDef] }}</mat-cell>\r\n  </ng-container>\r\n\r\n  <ng-container matColumnDef=\"expandedDetail\">\r\n    <tr>\r\n      <td mat-cell *matCellDef=\"let element\" [attr.colspan]=\"columnsToDisplay.length\">\r\n        <div class=\"inner-table-detail\" *ngIf=\"expandRequired\"\r\n          [@detailExpand]=\"element?.id == expandedElement?.id ? 'expanded' : 'collapsed'\">\r\n          <div class=\"collapse-table mat-elevation-z8\" *ngIf=\"expandedElement\">\r\n             \r\n              <div *ngIf=\"expandAsData\">\r\n                <p>{{element?.expandableRow?.expandData}}</p>\r\n              </div>\r\n\r\n              <div *ngIf=\"expandAsTableData\">\r\n                <table mat-table multiTemplateDataRows [dataSource]=\"expandedDataSource\" aria-describedby=\"table\" \r\n                  class=\"scroller\" >\r\n    \r\n                  <ng-container *ngFor=\"let column of expandcolumnDefs\" [matColumnDef]=column.columnDef>\r\n                    <ng-container >\r\n                      <th mat-header-cell *matHeaderCellDef>\r\n                      </th>\r\n                    </ng-container>\r\n                    <ng-container>\r\n                      <th mat-header-cell *matHeaderCellDef> {{column.columnDef | titlecase}} </th>\r\n                    </ng-container>\r\n    \r\n                  </ng-container>\r\n    \r\n                  <ng-container >\r\n                    <tr mat-header-row *matHeaderRowDef=\"expandColumnsToDisplay; sticky:true\"></tr>\r\n                    <tr mat-row *matRowDef=\"let element; columns: expandColumnsToDisplay;\" \r\n                    [ngClass]=\"{highlighted: selection.isSelected(element)}\" (click)=\"selectRow(element)\">\r\n                    </tr>\r\n                  </ng-container>\r\n                </table>\r\n              </div>\r\n          </div>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n    <tr mat-header-row *matHeaderRowDef=\"columnsToDisplay; sticky:true\"></tr>\r\n\r\n    <tr mat-row  *matRowDef=\"let data; columns: ['expandedDetail']\"  class=\"innertable-row\"></tr>\r\n  </ng-container>\r\n  \r\n\r\n \r\n  <ng-container matColumnDef=\"action\">\r\n    <mat-header-cell *matHeaderCellDef>Action</mat-header-cell>\r\n    <mat-cell *matCellDef=\"let element\" action-buttons  (buttonAction)=\"onTableAction($event)\">\r\n      {{ element.weight }}\r\n    </mat-cell>\r\n  </ng-container>\r\n  \r\n  <mat-header-row *matHeaderRowDef=\"getDisplayedColumns();\" ></mat-header-row>\r\n  <mat-row *matRowDef=\"let row; columns: getDisplayedColumns();\"  [class.accordion-element-row]=\"row.addresses?.data.length\"\r\n  [class.accordion-active]=\"expandedElement?.id === row?.id\"\r\n  [ngClass]=\"{highlighted: selection.isSelected(row)}\" (click)=\"selectRow(row)\"></mat-row>\r\n</mat-table>\r\n\r\n\r\n<mat-paginator [length]=\"length\"\r\n              [pageSize]=\"pageSize\"\r\n              [pageSizeOptions]=\"pageSizeOptions\"\r\n              [attr.aria-label]=\"ariaLabel\"\r\n              showFirstLastButtons >\r\n</mat-paginator>  -->" }]
        }], ctorParameters: function () { return []; }, propDecorators: { xyTableData: [{
                type: Input
            }], columnDefs: [{
                type: Input
            }], expandcolumnDefs: [{
                type: Input
            }], deleteRow: [{
                type: Output
            }], sort: [{
                type: ViewChild,
                args: [MatSort, { static: true }]
            }], paginator: [{
                type: ViewChild,
                args: [MatPaginator, { static: true }]
            }], table: [{
                type: ViewChild,
                args: [MatTable]
            }], expandDetail: [{
                type: Output
            }], expandRequired: [{
                type: Input
            }], expandTableDetail: [{
                type: Input
            }], pageSize: [{
                type: Input
            }], pageSizeOptions: [{
                type: Input
            }], length: [{
                type: Input
            }], ariaLabel: [{
                type: Input,
                args: ['aria-label']
            }], DisplayPaginatorLabel: [{
                type: Input
            }], expandAsData: [{
                type: Input
            }], expandAsTableData: [{
                type: Input
            }], isEditRequired: [{
                type: Input
            }], isDeleteRequired: [{
                type: Input
            }], editRow: [{
                type: Output
            }], refreshTrig: [{
                type: Output
            }], action: [{
                type: Output
            }], matButton: [{
                type: ViewChild,
                args: ['button']
            }], tableactionBar: [{
                type: Input
            }], tableSearchBar: [{
                type: Input
            }], deleteAllTrig: [{
                type: Input
            }], columnHideTrig: [{
                type: Input
            }], searchPlaceholder: [{
                type: Input
            }], tableRefresh: [{
                type: Input
            }], noDataMessage: [{
                type: Input
            }], customfilter: [{
                type: Input
            }], CustomELement: [{
                type: Input
            }], buttonText: [{
                type: Input
            }], buttonAction: [{
                type: Output
            }], searchMenu: [{
                type: ViewChild,
                args: ['searchMenu']
            }], onHostClick: [{
                type: HostListener,
                args: ['click', ['$event']]
            }] } });
function feed(from, to) {
    return from.subscribe(data => to.next(data), err => to.error(err), () => to.complete());
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoieHktdGFibGUuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMveHktZGVzaWduc3lzdGVtL3NyYy9saWIveHktdGFibGUvY29tcG9uZW50cy94eS10YWJsZS94eS10YWJsZS5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy94eS1kZXNpZ25zeXN0ZW0vc3JjL2xpYi94eS10YWJsZS9jb21wb25lbnRzL3h5LXRhYmxlL3h5LXRhYmxlLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUUsT0FBTyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDakYsT0FBTyxFQUFpQixTQUFTLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBc0MsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzdILE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUNqRCxPQUFPLEVBQUUsY0FBYyxJQUFJLFFBQVEsRUFBRSx3QkFBd0IsSUFBSSxrQkFBa0IsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBRTVILE9BQU8sRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3JELE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUMxRCxPQUFPLEVBQUUsa0JBQWtCLElBQUksWUFBWSxFQUFFLE1BQU0sb0NBQW9DLENBQUM7QUFFeEYsT0FBTyxFQUFFLE1BQU0sRUFBNEMsTUFBTSxNQUFNLENBQUM7Ozs7Ozs7Ozs7Ozs7O0FBYXhFLE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBRztJQUN4QixZQUFZLEVBQUU7UUFDWixJQUFJLEVBQUUsTUFBTTtRQUNaLE1BQU0sRUFBRSxRQUFRO1FBQ2hCLElBQUksRUFBRSxNQUFNO0tB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U0FBUztzQkFBN0IsU0FBUzt1QkFBQyxRQUFRO2dCQUNWLGNBQWM7c0JBQXRCLEtBQUs7Z0JBQ0csY0FBYztzQkFBdEIsS0FBSztnQkFDRyxhQUFhO3NCQUFyQixLQUFLO2dCQUNHLGNBQWM7c0JBQXRCLEtBQUs7Z0JBQ0csaUJBQWlCO3NCQUF6QixLQUFLO2dCQUNHLFlBQVk7c0JBQXBCLEtBQUs7Z0JBQ0csYUFBYTtzQkFBckIsS0FBSztnQkFTRyxZQUFZO3NCQUFwQixLQUFLO2dCQUNHLGFBQWE7c0JBQXJCLEtBQUs7Z0JBSUcsVUFBVTtzQkFBbEIsS0FBSztnQkFRSSxZQUFZO3NCQUFyQixNQUFNO2dCQXlCa0IsVUFBVTtzQkFBbEMsU0FBUzt1QkFBQyxZQUFZO2dCQUd2QixXQUFXO3NCQURWLFlBQVk7dUJBQUMsT0FBTyxFQUFFLENBQUMsUUFBUSxDQUFDOztBQXlUbkMsU0FBUyxJQUFJLENBQUksSUFBbUIsRUFBRSxFQUFjO0lBQ2xELE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FDbkIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUNyQixHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQ3BCLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FDcEIsQ0FBQztBQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhbmltYXRlLCBzdGF0ZSwgc3R5bGUsIHRyYW5zaXRpb24sIHRyaWdnZXIgfSBmcm9tICdAYW5ndWxhci9hbmltYXRpb25zJztcclxuaW1wb3J0IHsgQWZ0ZXJWaWV3SW5pdCwgQ29tcG9uZW50LCBIb3N0TGlzdGVuZXIsIElucHV0LCBPbkluaXQsIFNpbXBsZUNoYW5nZXMsIFRlbXBsYXRlUmVmLCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgTWF0U29ydCB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL3NvcnQnO1xyXG5pbXBvcnQgeyBNYXRMZWdhY3lUYWJsZSBhcyBNYXRUYWJsZSwgTWF0TGVnYWN5VGFibGVEYXRhU291cmNlIGFzIE1hdFRhYmxlRGF0YVNvdXJjZSB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2xlZ2FjeS10YWJsZSc7XHJcbmltcG9ydCB7IFh5VGFibGVDb2x1bW5EZWYgfSBmcm9tICcuLi8uLi9pbnRlcmZhY2VzL3h5LXRhYmxlLWNvbHVtbi5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBPdXRwdXQsIEV2ZW50RW1pdHRlciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBTZWxlY3Rpb25Nb2RlbCB9IGZyb20gJ0Bhbmd1bGFyL2Nkay9jb2xsZWN0aW9ucyc7XHJcbmltcG9ydCB7IE1hdExlZ2FjeVBhZ2luYXRvciBhcyBNYXRQYWdpbmF0b3IgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9sZWdhY3ktcGFnaW5hdG9yJztcclxuaW1wb3J0IHsgRm9ybUNvbnRyb2wsIEZvcm1Hcm91cCB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcclxuaW1wb3J0IHsgZmlsdGVyLCBtZXJnZSwgT2JzZXJ2YWJsZSwgU3ViamVjdCwgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IFRhYmxlQ29sdW1uIH0gZnJvbSAnLi4vbW9kZWxzL3RhYmxlQ29sdW1uJztcclxuaW1wb3J0IHsgQ2RrRHJhZ0Ryb3AsIG1vdmVJdGVtSW5BcnJheSB9IGZyb20gJ0Bhbmd1bGFyL2Nkay9kcmFnLWRyb3AnO1xyXG5pbXBvcnQgeyBNYXRMZWdhY3lTZWxlY3RDaGFuZ2UgYXMgTWF0U2VsZWN0Q2hhbmdlIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvbGVnYWN5LXNlbGVjdCc7XHJcbmltcG9ydCB7IE92ZXJsYXlDb250YWluZXIgfSBmcm9tICdAYW5ndWxhci9jZGsvb3ZlcmxheSc7XHJcbmltcG9ydCB7IE1hdExlZ2FjeU1lbnUgYXMgTWF0TWVudSwgTWF0TGVnYWN5TWVudVRyaWdnZXIgYXMgTWF0TWVudVRyaWdnZXIgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9sZWdhY3ktbWVudSc7XHJcbmltcG9ydCB7IFRhYmxlQnV0dG9uQWN0aW9uIH0gZnJvbSAnLi4vbW9kZWxzL3RhYmxlQnV0dG9uQWN0aW9uJztcclxuaW1wb3J0IHtNYXRMZWdhY3lCdXR0b24gYXMgTWF0QnV0dG9ufSBmcm9tIFwiQGFuZ3VsYXIvbWF0ZXJpYWwvbGVnYWN5LWJ1dHRvblwiO1xyXG5pbXBvcnQgeyBYeU5vZGUgfSBmcm9tICcuLi8uLi8uLi94eS10cmVlL3h5LXRyZWUuY29tcG9uZW50JztcclxuaW1wb3J0IHsgTWF0TGVnYWN5Q2hlY2tib3hDaGFuZ2UgYXMgTWF0Q2hlY2tib3hDaGFuZ2UgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9sZWdhY3ktY2hlY2tib3gnO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY29uc3QgdGFibGVDb25zdCA9IHtcclxuICBhY3Rpb25CdXR0b246IHtcclxuICAgIGVkaXQ6ICdlZGl0JyxcclxuICAgIGRlbGV0ZTogJ2RlbGV0ZScsXHJcbiAgICB2aWV3OiAnVmlldycsXHJcbiAgfSxcclxufVxyXG5cclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAneHktdGFibGUnLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi94eS10YWJsZS5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4veHktdGFibGUuY29tcG9uZW50LnNjc3MnXSxcclxuICBhbmltYXRpb25zOiBbXHJcbiAgICB0cmlnZ2VyKCdkZXRhaWxFeHBhbmQnLCBbXHJcbiAgICAgIHN0YXRlKCdjb2xsYXBzZWQnLCBzdHlsZSh7IGhlaWdodDogJzBweCd9KSksXHJcbiAgICAgIHN0YXRlKCdleHBhbmRlZCcsIHN0eWxlKHsgaGVpZ2h0OiAnKicgfSkpLFxyXG4gICAgICB0cmFuc2l0aW9uKCdleHBhbmRlZCA8PT4gY29sbGFwc2VkJywgYW5pbWF0ZSgnMjI1bXMgY3ViaWMtYmV6aWVyKDAuNCwgMC4wLCAwLjIsIDEpJykpLFxyXG4gICAgXSksXHJcbiAgXSxcclxufSlcclxuZXhwb3J0IGNsYXNzIFh5VGFibGVDb21wb25lbnQgaW1wbGVtZW50cyBBZnRlclZpZXdJbml0IHtcclxuICBASW5wdXQoKSB4eVRhYmxlRGF0YSA6IEFycmF5PE9iamVjdD4gPSBbXTtcclxuICBASW5wdXQoKSBjb2x1bW5EZWZzITogWHlUYWJsZUNvbHVtbkRlZltdO1xyXG4gIEBJbnB1dCgpIGV4cGFuZGNvbHVtbkRlZnMhOiBYeVRhYmxlQ29sdW1uRGVmW107XHJcbiAgQE91dHB1dCgpIGRlbGV0ZVJvdyA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG4gIEBWaWV3Q2hpbGQoTWF0U29ydCwgeyBzdGF0aWM6IHRydWUgfSkgc29ydCE6IE1hdFNvcnQ7XHJcbiAgQFZpZXdDaGlsZChNYXRQYWdpbmF0b3IsIHsgc3RhdGljOiB0cnVlIH0pXHJcbiAgcGFnaW5hdG9yITogTWF0UGFnaW5hdG9yO1xyXG4gIEBWaWV3Q2hpbGQoTWF0VGFibGUpIHRhYmxlITogTWF0VGFibGU8YW55PjtcclxuICBAT3V0cHV0KCkgZXhwYW5kRGV0YWlsID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcbiAgQElucHV0KCkgZXhwYW5kUmVxdWlyZWQ6IGJvb2xlYW4gPSB0cnVlO1xyXG4gIEBJbnB1dCgpIGV4cGFuZFRhYmxlRGV0YWlsOiBhbnkgPSBbXTtcclxuICBzZWxlY3Rpb24gPSBuZXcgU2VsZWN0aW9uTW9kZWw8WHlUYWJsZUNvbHVtbkRlZj4odHJ1ZSwgW10pO1xyXG4gIEBJbnB1dCgpIHBhZ2VTaXplITogbnVtYmVyO1xyXG4gIEBJbnB1dCgpIHBhZ2VTaXplT3B0aW9ucyE6IG51bWJlcltdO1xyXG4gIEBJbnB1dCgpIGxlbmd0aCE6IG51bWJlcjtcclxuICBASW5wdXQoJ2FyaWEtbGFiZWwnKSBhcmlhTGFiZWwhOiBzdHJpbmc7XHJcbiAgQElucHV0KCkgRGlzcGxheVBhZ2luYXRvckxhYmVsISA6IHN0cmluZztcclxuICBASW5wdXQoKSBleHBhbmRBc0RhdGEgOiBib29sZWFuID0gZmFsc2U7XHJcbiAgQElucHV0KCkgZXhwYW5kQXNUYWJsZURhdGEgOiBib29sZWFuID0gZmFsc2U7XHJcbiAgQElucHV0KCkgaXNFZGl0UmVxdWlyZWQ6Ym9vbGVhbiA9IGZhbHNlO1xyXG4gIEBJbnB1dCgpIGlzRGVsZXRlUmVxdWlyZWQ6Ym9vbGVhbiA9IGZhbHNlO1xyXG4gIEBPdXRwdXQoKSBlZGl0Um93ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcbiAgQE91dHB1dCgpIHJlZnJlc2hUcmlnID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcbiAgQE91dHB1dCgpIGFjdGlvbjogRXZlbnRFbWl0dGVyPFRhYmxlQnV0dG9uQWN0aW9uPiA9IG5ldyBFdmVudEVtaXR0ZXI8VGFibGVCdXR0b25BY3Rpb24+KCk7XHJcbiAgQFZpZXdDaGlsZCgnYnV0dG9uJykgbWF0QnV0dG9uITogTWF0QnV0dG9uO1xyXG4gIEBJbnB1dCgpIHRhYmxlYWN0aW9uQmFyITogYm9vbGVhbjtcclxuICBASW5wdXQoKSB0YWJsZVNlYXJjaEJhciE6IGJvb2xlYW47XHJcbiAgQElucHV0KCkgZGVsZXRlQWxsVHJpZyE6IGJvb2xlYW47XHJcbiAgQElucHV0KCkgY29sdW1uSGlkZVRyaWchOiBib29sZWFuO1xyXG4gIEBJbnB1dCgpIHNlYXJjaFBsYWNlaG9sZGVyITogYW55O1xyXG4gIEBJbnB1dCgpIHRhYmxlUmVmcmVzaCE6IGJvb2xlYW47XHJcbiAgQElucHV0KCkgbm9EYXRhTWVzc2FnZSE6IGFueTtcclxuICB2YWx1ZSE6IHN0cmluZztcclxuICB2YWx1ZUZpbHRlciE6IHN0cmluZztcclxuICBkYXRhU291cmNlOiBhbnk7XHJcbiAgZXhwYW5kZWREYXRhU291cmNlOmFueTtcclxuICBleHBhbmRlZEVsZW1lbnQ6YW55O1xyXG4gIGNvbHVtbnNUb0Rpc3BsYXk6IHN0cmluZ1tdID0gW107XHJcbiAgZXhwYW5kQ29sdW1uc1RvRGlzcGxheTpzdHJpbmdbXSA9IFtdO1xyXG4gIGNoYW5nZUNvbG9yOiBhbnk7XHJcbiAgQElucHV0KCkgY3VzdG9tZmlsdGVyITogVGVtcGxhdGVSZWY8YW55PlxyXG4gIEBJbnB1dCgpIEN1c3RvbUVMZW1lbnQhOiBUZW1wbGF0ZVJlZjxhbnk+XHJcbiAgaW50bGllcyE6ICBUZW1wbGF0ZVJlZjxhbnk+XHJcbiAgaW50bGllczIhOiAgVGVtcGxhdGVSZWY8YW55PlxyXG4gIHZhbGlkID0gZmFsc2U7XHJcbiAgQElucHV0KCkgYnV0dG9uVGV4dDogYW55O1xyXG5cclxuICBhY3Rpb25CdXR0b24hOiB7XHJcbiAgICBlZGl0OiAnZWRpdCcsXHJcbiAgICBkZWxldGU6ICdkZWxldGUnLFxyXG4gICAgdmlldzogJ1ZpZXcnLFxyXG4gIH1cclxuIFxyXG4gIEBPdXRwdXQoKSBidXR0b25BY3Rpb246IEV2ZW50RW1pdHRlcjxUYWJsZUJ1dHRvbkFjdGlvbj4gPSBuZXcgRXZlbnRFbWl0dGVyPFRhYmxlQnV0dG9uQWN0aW9uPigpXHJcbiBlbXB0eURhdGEgPSBuZXcgTWF0VGFibGVEYXRhU291cmNlKFt7IGVtcHR5OiBcInJvd1wiIH1dKTtcclxuICBvbkVkaXRDbGljaygpIHtcclxuICAgIHRoaXMuYnV0dG9uQWN0aW9uLmVtaXQoe1xyXG4gICAgICBuYW1lOiB0YWJsZUNvbnN0LmFjdGlvbkJ1dHRvbi5lZGl0LFxyXG4gICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBvbkRlbGV0ZUNsaWNrKCkge1xyXG4gICAgdGhpcy5idXR0b25BY3Rpb24uZW1pdCh7XHJcbiAgICAgICBuYW1lOiB0YWJsZUNvbnN0LmFjdGlvbkJ1dHRvbi5kZWxldGUgLFxyXG4gICAgICAgdmFsdWU6IHRoaXMudmFsdWUsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIG9uVmlld0NsaWNrKCkge1xyXG4gICAgdGhpcy5idXR0b25BY3Rpb24uZW1pdCh7IFxyXG4gICAgICBuYW1lOiB0YWJsZUNvbnN0LmFjdGlvbkJ1dHRvbi52aWV3ICxcclxuICAgICAgdmFsdWU6IHRoaXMudmFsdWUsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG4gIEBWaWV3Q2hpbGQoJ3NlYXJjaE1lbnUnKSBzZWFyY2hNZW51ITogTWF0TWVudTtcclxuICBcclxuICBASG9zdExpc3RlbmVyKCdjbGljaycsIFsnJGV2ZW50J10pXHJcbiAgb25Ib3N0Q2xpY2soZXZlbnQ6IE1vdXNlRXZlbnQpIHtcclxuICAgIGNvbnNvbGUubG9nKGV2ZW50KTtcclxuICB9XHJcblxyXG4gIHJlZnJlc2hDbGljayhldmVudDogRXZlbnQpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiZXZlbnRcIiwgZXZlbnQpO1xyXG4gIH1cclxuXHJcbiAgLy8gZ2V0RGlzcGxheWVkQ29sdW1ucygpOiBzdHJpbmdbXSB7XHJcbiAgLy8gICByZXR1cm4gdGhpcy5jb2x1bW5EZWZzLmZpbHRlcihjZCA9PiBjZC52aXNpYmxlKS5tYXAoY2QgPT4gY2QuY29sdW1uRGVmKTtcclxuICAgIFxyXG4gIC8vIH0gXHJcbiAgZ2V0RGlzcGxheWVkRXhwYW5kQ29sdW1ucygpOiBzdHJpbmdbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5leHBhbmRjb2x1bW5EZWZzLmZpbHRlcihjZCA9PiBjZC52aXNpYmxlKS5tYXAoY2QgPT4gY2QuY29sdW1uRGVmKTtcclxuICB9XHJcbiAgXHJcbiAgZGF0YVNvdXJjZUZpbHRlcnMgPSBuZXcgTWF0VGFibGVEYXRhU291cmNlKHRoaXMueHlUYWJsZURhdGEpO1xyXG5cclxuICBnZXRGaWx0ZXJEYXRhID0gW107XHJcbiAgXHJcbiAgZW1wRmlsdGVyczogYW55W109W107XHJcblxyXG4gIGdldERpc3BsYXllZENvbHVtbnMoKXtcclxuICAgIGNvbnN0IGZpbHRlckRhdGEgPSB0aGlzLmNvbHVtbkRlZnMuZmlsdGVyKGNkID0+IGNkLnZpc2libGUpLm1hcChjZCA9PiBjZC5jb2x1bW5EZWYpO1xyXG4gICAgY29uc3QgY29sdW1uSGlkZSA9IHRoaXMueHlUYWJsZURhdGEubWFwKChyb3dWYWx1ZSk9PntcclxuICAgIGxldCBvYmogOiBhbnkgPSB7fTtcclxuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocm93VmFsdWUpKSB7XHJcbiAgICAgICAgaWYoZmlsdGVyRGF0YS5pbmRleE9mKGtleSkgPiAtMSl7XHJcbiAgICAgICAgICAgIG9ialtrZXldID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9KVxyXG4gICAgY29uc29sZS5sb2coY29sdW1uSGlkZSk7XHJcbiAgIFxyXG4gICAgdGhpcy5kYXRhU291cmNlID0gbmV3IE1hdFRhYmxlRGF0YVNvdXJjZShjb2x1bW5IaWRlKTtcclxuICAgIHJldHVybiB0aGlzLmNvbHVtbkRlZnMuZmlsdGVyKGNkID0+IGNkLnZpc2libGUpLm1hcChjZCA9PiBjZC5jb2x1bW5EZWYpO1xyXG4gIH0gXHJcblxyXG5cclxuICBkZWZhdWx0VmFsdWUgPSBcIkFsbFwiO1xyXG4gIG5nT25Jbml0KCk6IHZvaWQge1xyXG4gICAgdGhpcy5pbnRsaWVzID0gdGhpcy5jdXN0b21maWx0ZXI7XHJcbiAgICB0aGlzLmludGxpZXMyID0gdGhpcy5DdXN0b21FTGVtZW50O1xyXG4gICAgdGhpcy5kYXRhU291cmNlID0gbmV3IE1hdFRhYmxlRGF0YVNvdXJjZSh0aGlzLnh5VGFibGVEYXRhKTtcclxuICAgIHRoaXMuZGF0YVNvdXJjZS5zb3J0ID0gdGhpcy5zb3J0O1xyXG4gICAgdGhpcy5jb2x1bW5EZWZzLmZvckVhY2goZWxlbWVudCA9PiB0aGlzLmNvbHVtbnNUb0Rpc3BsYXkucHVzaChlbGVtZW50LmNvbHVtbkRlZikpO1xyXG4gICAgdGhpcy5wYWdpbmF0b3IuX2ludGwuaXRlbXNQZXJQYWdlTGFiZWw9IHRoaXMuRGlzcGxheVBhZ2luYXRvckxhYmVsO1xyXG4gICAgdGhpcy5leHBhbmRjb2x1bW5EZWZzLmZvckVhY2goZWxlbWVudCA9PiB0aGlzLmV4cGFuZENvbHVtbnNUb0Rpc3BsYXkucHVzaChlbGVtZW50LmNvbHVtbkRlZikpO1xyXG4gIH1cclxuXHJcblxyXG5cclxuICBcclxuICBmaWx0ZXJEaWN0aW9uYXJ5PSBuZXcgTWFwPGFueSxhbnk+KCk7XHJcblxyXG4gIGFwcGx5RmlsdGVyKGV2ZW50OiBFdmVudCkge1xyXG4gICAgY29uc3QgZmlsdGVyVmFsdWUgPSAoZXZlbnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgdGhpcy5kYXRhU291cmNlLmZpbHRlciA9IGZpbHRlclZhbHVlLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xyXG4gIH1cclxuICBcclxuICBuZ0FmdGVyVmlld0luaXQoKSB7XHJcbiAgICB0aGlzLmRhdGFTb3VyY2UucGFnaW5hdG9yID0gdGhpcy5wYWdpbmF0b3I7XHJcbiAgICAodGhpcy5zZWFyY2hNZW51IGFzIGFueSkuY2xvc2VkID0gdGhpcy5jb25maWd1cmVNZW51Q2xvc2UodGhpcy5zZWFyY2hNZW51LmNsb3NlKTtcclxuICB9XHJcblxyXG4gIHRvZ2dsZVJvdyhlbGVtZW50OiBhbnkpIHtcclxuICAgIHRoaXMuZXhwYW5kZWRFbGVtZW50ID0gdGhpcy5leHBhbmRlZEVsZW1lbnQgPT09IGVsZW1lbnQgPyBudWxsIDogZWxlbWVudDtcclxuICB9IFxyXG5cclxuICBvblRhYmxlQWN0aW9uKGU6IFRhYmxlQnV0dG9uQWN0aW9uKTogdm9pZCB7XHJcbiAgICB0aGlzLmFjdGlvbi5lbWl0KGUpO1xyXG4gICAgdGhpcy5idXR0b25BY3Rpb24uZW1pdCh7IG5hbWU6IHRhYmxlQ29uc3QuYWN0aW9uQnV0dG9uLmRlbGV0ZSB9KTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZShkYXRhOiBhbnkpOiB2b2lkIHtcclxuICAgIHRoaXMuZGVsZXRlUm93LmVtaXQoZGF0YSk7XHJcbiAgfVxyXG5cclxuICBlZGl0KGRhdGE6YW55KTogdm9pZHtcclxuICAgIHRoaXMuZWRpdFJvdy5lbWl0KGRhdGEpO1xyXG4gIH1cclxuXHJcbiBcclxuICBjbGljaygpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLm1hdEJ1dHRvbikge1xyXG4gICAgICB0aGlzLm1hdEJ1dHRvbi5fZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LmNsaWNrKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvbkNsaWNrKCRldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgY29uc29sZS5sb2coXCJCdXR0b24gQ0xpY2tlZFwiKTtcclxuICB9XHJcblxyXG4gIHJlZnJlc2goJGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZHt9XHJcbiAgXHJcbiAgb25DbGlja1JpZ2h0KCRldmVudDogTW91c2VFdmVudCwgZWxlbWVudDphbnkpIHtcclxuICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIGlmIChlbGVtZW50LmNsaWNrUmlnaHQpIHtcclxuICAgICAgZWxlbWVudC5jbGlja1JpZ2h0LmNhbGwodGhpcyk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIC8vIG9uRGVsZXRlQ2xpY2soKSB7XHJcbiAgIFxyXG4gIC8vIG9uVmlld0NsaWNrKCkge1xyXG4gIC8vICAgdGhpcy5idXR0b25BY3Rpb24uZW1pdCh7IG5hbWU6IHRhYmxlQ29uc3QuYWN0aW9uQnV0dG9uLnZpZXcgfSk7XHJcbiAgLy8gfVxyXG4gIFxyXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpOiB2b2lkIHtcclxuICAgIC8vIHRoaXMuZ2V0RGlzcGxheWVkQ29sdW1ucygpO1xyXG4gICAgZm9yIChjb25zdCBwcm9wTmFtZSBvZiBPYmplY3Qua2V5cyhjaGFuZ2VzKSkge1xyXG4gICAgICBjb25zdCBjaGFuZ2UgPSBjaGFuZ2VzW3Byb3BOYW1lXTtcclxuICAgICAgaWYgKHByb3BOYW1lID09PSAnZXhwYW5kVGFibGVEZXRhaWwnKSB7XHJcbiAgICAgICAgdGhpcy5leHBhbmRlZEVsZW1lbnQgPSBjaGFuZ2UuY3VycmVudFZhbHVlO1xyXG4gICAgICAgIHRoaXMuZXhwYW5kZWREYXRhU291cmNlID0gdGhpcy5leHBhbmRlZEVsZW1lbnQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG5cclxuICBzZWxlY3RlZFJvdyhlbGVtZW50IDogYW55KSB7XHJcbiAgICB0aGlzLmNoYW5nZUNvbG9yID0gdGhpcy5leHBhbmRlZEVsZW1lbnQgPT09IGVsZW1lbnQgPyBudWxsIDogZWxlbWVudDtcclxuICB9XHJcblxyXG4gXHJcblxyXG4gIC8qKiBXaGV0aGVyIHRoZSBudW1iZXIgb2Ygc2VsZWN0ZWQgZWxlbWVudHMgbWF0Y2hlcyB0aGUgdG90YWwgbnVtYmVyIG9mIHJvd3MuICovXHJcbiAgaXNBbGxTZWxlY3RlZCgpIHtcclxuICAgIGNvbnN0IG51bVNlbGVjdGVkID0gdGhpcy5zZWxlY3Rpb24uc2VsZWN0ZWQubGVuZ3RoO1xyXG4gICAgY29uc3QgbnVtUm93cyA9IHRoaXMuZGF0YVNvdXJjZS5kYXRhLmxlbmd0aDtcclxuICAgIHJldHVybiBudW1TZWxlY3RlZCA9PT0gbnVtUm93cztcclxuICB9XHJcbiBcclxuICBzZWxlY3RSb3coZGF0YTogWHlUYWJsZUNvbHVtbkRlZikge1xyXG4gICAgdGhpcy5zZWxlY3Rpb24udG9nZ2xlKGRhdGEpO1xyXG4gIH1cclxuXHJcbiAgXHJcbiAgbWFzdGVyVG9nZ2xlKCkge1xyXG4gICAgdGhpcy5pc0FsbFNlbGVjdGVkKCkgP1xyXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLmNsZWFyKCkgOlxyXG4gICAgICAgIHRoaXMuZGF0YVNvdXJjZS5kYXRhLmZvckVhY2goKGRhdGE6IGFueSkgPT4gdGhpcy5zZWxlY3Rpb24uc2VsZWN0KGRhdGEpKTtcclxuICB9XHJcblxyXG4gIHJlbW92ZVNlbGVjdGVkUm93cygpIHtcclxuICAgIHRoaXMuc2VsZWN0aW9uLnNlbGVjdGVkLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgIGxldCBpbmRleDogbnVtYmVyID0gdGhpcy54eVRhYmxlRGF0YS5maW5kSW5kZXgoKGQ6IGFueSkgPT4gZCA9PT0gaXRlbSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMueHlUYWJsZURhdGEuZmluZEluZGV4KChkOiBhbnkpID0+IGQgPT09IGl0ZW0pKTtcclxuICAgICAgdGhpcy54eVRhYmxlRGF0YS5zcGxpY2UoaW5kZXgsMSlcclxuICAgICAgdGhpcy5kYXRhU291cmNlID0gbmV3IE1hdFRhYmxlRGF0YVNvdXJjZTxhbnk+KHRoaXMueHlUYWJsZURhdGEpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLnNlbGVjdGlvbiA9IG5ldyBTZWxlY3Rpb25Nb2RlbDxYeVRhYmxlQ29sdW1uRGVmPih0cnVlLCBbXSk7XHJcbiAgfVxyXG5cclxuXHJcblxyXG4gICBwcml2YXRlIGNvbmZpZ3VyZU1lbnVDbG9zZShvbGQ6IE1hdE1lbnVbJ2Nsb3NlJ10pOiBNYXRNZW51WydjbG9zZSddIHtcclxuICAgICBjb25zdCB1cGQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgICAgZmVlZCh1cGQucGlwZShcclxuICAgICAgIGZpbHRlcihldmVudCA9PiB7XHJcbiAgICAgICAgIGNvbnNvbGUubG9nKGBtZW51LmNsb3NlKCR7SlNPTi5zdHJpbmdpZnkoZXZlbnQpfSlgKTtcclxuICAgICAgICAgaWYgKGV2ZW50ID09PSAnY2xpY2snKSB7XHJcbiAgICAgICAgICAgLy8gSWdub3JlIGNsaWNrcyBpbnNpZGUgdGhlIG1lbnUgXHJcbiAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgfSksXHJcbiAgICAgKSwgb2xkKTtcclxuICAgICByZXR1cm4gdXBkO1xyXG4gICB9XHJcblxyXG4gXHJcblxyXG4gIC8vIEBJbnB1dCgpIHBhZ2VTaXplITogbnVtYmVyO1xyXG4gIC8vIEBJbnB1dCgpIGlzVHJ1ZTogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIC8vIEBJbnB1dCgpIHBhZ2VTaXplT3B0aW9ucyE6IG51bWJlcltdO1xyXG4gIC8vIEBJbnB1dCgpIGxlbmd0aCE6IG51bWJlcjtcclxuICAvLyBAVmlld0NoaWxkKE1hdFBhZ2luYXRvciwgeyBzdGF0aWM6IHRydWUgfSlcclxuICAvLyBwYWdpbmF0b3IhOiBNYXRQYWdpbmF0b3I7XHJcbiAgLy8gQElucHV0KCdhcmlhLWxhYmVsJykgYXJpYUxhYmVsITogc3RyaW5nO1xyXG4gIC8vIEBJbnB1dCgpIERpc3BsYXlQYWdpbmF0b3JMYWJlbCEgOiBzdHJpbmc7XHJcbiAgLy8gQE91dHB1dCgpIGFjdGlvbjogRXZlbnRFbWl0dGVyPFRhYmxlQnV0dG9uQWN0aW9uPiA9IG5ldyBFdmVudEVtaXR0ZXI8VGFibGVCdXR0b25BY3Rpb24+KClcclxuICAvLyBASW5wdXQoKSBjb2x1bW5zITogQXJyYXk8VGFibGVDb2x1bW4+O1xyXG4gIC8vIEBJbnB1dCgpIGRhdGFzZXQ6IEFycmF5PGFueT4gPSBbXTtcclxuICAvLyBAVmlld0NoaWxkKE1hdFNvcnQsIHsgc3RhdGljOiB0cnVlIH0pIHNvcnQhOiBNYXRTb3J0O1xyXG4gIC8vIGRhdGFTb3VyY2UhOiBNYXRUYWJsZURhdGFTb3VyY2U8YW55PjtcclxuICAvLyBzZWxlY3Rpb24gPSBuZXcgU2VsZWN0aW9uTW9kZWw8YW55Pih0cnVlLCBbXSk7XHJcbiAgLy8gZGlzcGxheWVkQ29sdW1uczogc3RyaW5nW10gPSBbXTtcclxuICAvLyB2YWx1ZSE6IHN0cmluZztcclxuXHJcbiAgLy8gQElucHV0KCkgZXhwYW5kQXNUYWJsZURhdGEgOiBib29sZWFuID0gZmFsc2U7XHJcbiAgLy8gQElucHV0KCkgZXhwYW5kQXNEYXRhIDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIC8vIEBJbnB1dCgpIGV4cGFuZGNvbHVtbkRlZnMhOkFycmF5PFRhYmxlQ29sdW1uPjtcclxuICAvLyBAT3V0cHV0KCkgZXhwYW5kRGV0YWlsID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcbiAgLy8gQElucHV0KCkgZXhwYW5kUmVxdWlyZWQ6IGJvb2xlYW4gPSB0cnVlO1xyXG4gIC8vIEBJbnB1dCgpIGV4cGFuZFRhYmxlRGV0YWlsOiBhbnkgPSBbXTtcclxuXHJcbiAgLy8gQElucHV0KCkgZ2V0Q3VzdG9tRmlsdGVyITogVGVtcGxhdGVSZWY8YW55PjtcclxuICAvLyBpbnRsaWVzITogVGVtcGxhdGVSZWY8YW55PjtcclxuXHJcbiAgLy8gZXhwYW5kZWREYXRhU291cmNlOmFueTtcclxuICAvLyBleHBhbmRlZEVsZW1lbnQ6YW55O1xyXG4gIC8vIGNvbHVtbnNUb0Rpc3BsYXk6IHN0cmluZ1tdID0gW107XHJcbiAgLy8gZXhwYW5kQ29sdW1uc1RvRGlzcGxheTpzdHJpbmdbXSA9IFtdO1xyXG5cclxuXHJcbiAgLy8gY29uc3RydWN0b3IoKSB7IH1cclxuICAvLyBAT3V0cHV0KCkgYnV0dG9uQWN0aW9uOiBFdmVudEVtaXR0ZXI8VGFibGVCdXR0b25BY3Rpb24+ID0gbmV3IEV2ZW50RW1pdHRlcjxUYWJsZUJ1dHRvbkFjdGlvbj4oKVxyXG5cclxuICAvLyBnZXREaXNwbGF5ZWRDb2x1bW5zKCk6IHN0cmluZ1tdIHtcclxuICAvLyAgIHJldHVybiB0aGlzLmNvbHVtbnMuZmlsdGVyKGNkID0+IGNkLnZpc2libGUpLm1hcChjZCA9PiBjZC5jb2x1bW5EZWYpO1xyXG4gIC8vIH1cclxuXHJcbiAgLy8gT3BlbkZpbHRlcigpe1xyXG4gIC8vICAgYWxlcnQoXCJoZWxsb1wiKTtcclxuICAvLyB9XHJcblxyXG4gIC8vIG5nT25Jbml0KCkge1xyXG4gIC8vICAgdGhpcy5pbnRsaWVzID0gdGhpcy5nZXRDdXN0b21GaWx0ZXI7XHJcbiAgIFxyXG4gIC8vICAgLy8gc2V0IGNoZWNrYm94IGNvbHVtblxyXG4gIC8vICAgdGhpcy5kaXNwbGF5ZWRDb2x1bW5zLnB1c2goXCJzZWxlY3RcIik7XHJcblxyXG4gICAgLy8gYWRkIGFjdGlvbiBjb2x1bW5cclxuICAgIFxyXG5cclxuICAvLyAgIC8vIHNldCB0YWJsZSBjb2x1bW5zXHJcbiAgLy8gICB0aGlzLmRpc3BsYXllZENvbHVtbnMgPSB0aGlzLmRpc3BsYXllZENvbHVtbnMuY29uY2F0KHRoaXMuY29sdW1ucy5tYXAoeCA9PiB4LmNvbHVtbkRlZikpOyAgICAvLyBwcmUtZml4IHN0YXRpY1xyXG4gIC8vICAgdGhpcy5kYXRhU291cmNlID0gbmV3IE1hdFRhYmxlRGF0YVNvdXJjZTxhbnk+KHRoaXMuZGF0YXNldCk7XHJcbiAgLy8gICB0aGlzLnBhZ2luYXRvci5faW50bC5pdGVtc1BlclBhZ2VMYWJlbD0gdGhpcy5EaXNwbGF5UGFnaW5hdG9yTGFiZWw7XHJcbiAgLy8gICAvLyBzZXQgcGFnaW5hdGlvblxyXG4gIC8vICAgdGhpcy5kYXRhU291cmNlLnBhZ2luYXRvciA9IHRoaXMucGFnaW5hdG9yO1xyXG5cclxuICAvLyAgIHRoaXMuZXhwYW5kY29sdW1uRGVmcy5mb3JFYWNoKGVsZW1lbnQgPT4gdGhpcy5leHBhbmRDb2x1bW5zVG9EaXNwbGF5LnB1c2goZWxlbWVudC5jb2x1bW5EZWYpKVxyXG4gIC8vICAgdGhpcy5kYXRhU291cmNlLnBhZ2luYXRvciA9IHRoaXMucGFnaW5hdG9yO1xyXG5cclxuICAgXHJcbiAgXHJcbiAgLy8gfVxyXG5cclxuICAvLyAvLyBmb3JtOkZvcm1Hcm91cCA9IG5ldyBGb3JtR3JvdXAoe1xyXG4gIC8vIC8vICAgZGlzcGxheWVkQ29sdW1uczogbmV3IEZvcm1Db250cm9sKGZhbHNlKSxcclxuICAvLyAvLyB9KTtcclxuXHJcbiAgLy8gLy8gY29sID0gdGhpcy5mb3JtLmdldCgnbmFtZScpO1xyXG4gIC8vIC8vIGNvbHVtbnMxITogYW55W107XHJcbiAgLy8gLy8gZ2V0RGlzcGxheWVkQ29sdW1ucygpe1xyXG4gIC8vIC8vICAgdGhpcy5jb2x1bW5zMSA9IHRoaXMuY29sdW1ucy5maWx0ZXIoY2Q9PiFjZC5oaWRlKS5tYXAoY2Q9PmNkLmNvbHVtbkRlZik7XHJcbiAgLy8gLy8gIH1cclxuXHJcbiAgXHJcbiAgLy8gLyoqIFdoZXRoZXIgdGhlIG51bWJlciBvZiBzZWxlY3RlZCBlbGVtZW50cyBtYXRjaGVzIHRoZSB0b3RhbCBudW1iZXIgb2Ygcm93cy4gKi9cclxuICAvLyBpc0FsbFNlbGVjdGVkKCkge1xyXG4gIC8vICAgY29uc3QgbnVtU2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGlvbi5zZWxlY3RlZC5sZW5ndGg7XHJcbiAgLy8gICBjb25zdCBudW1Sb3dzID0gdGhpcy5kYXRhU291cmNlLmRhdGEubGVuZ3RoO1xyXG4gIC8vICAgcmV0dXJuIG51bVNlbGVjdGVkID09PSBudW1Sb3dzO1xyXG4gIC8vIH1cclxuXHJcbiAgLy8gLyoqIFNlbGVjdHMgYWxsIHJvd3MgaWYgdGhleSBhcmUgbm90IGFsbCBzZWxlY3RlZDsgb3RoZXJ3aXNlIGNsZWFyIHNlbGVjdGlvbi4gKi9cclxuICAvLyBtYXN0ZXJUb2dnbGUoKSB7XHJcbiAgLy8gICB0aGlzLmlzQWxsU2VsZWN0ZWQoKSA/XHJcbiAgLy8gICAgIHRoaXMuc2VsZWN0aW9uLmNsZWFyKCkgOlxyXG4gIC8vICAgICB0aGlzLmRhdGFTb3VyY2UuZGF0YS5mb3JFYWNoKHJvdyA9PiB0aGlzLnNlbGVjdGlvbi5zZWxlY3Qocm93KSk7XHJcbiAgLy8gfVxyXG4gIC8vIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcclxuICAvLyAgIHRoaXMuZGF0YVNvdXJjZS5zb3J0ID0gdGhpcy5zb3J0O1xyXG4gIC8vIH1cclxuXHJcbiAgLy8gYXBwbHlGaWx0ZXIoZXZlbnQ6IEV2ZW50KSB7XHJcbiAgLy8gICBjb25zdCBmaWx0ZXJWYWx1ZSA9IChldmVudC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcbiAgLy8gICB0aGlzLmRhdGFTb3VyY2UuZmlsdGVyID0gZmlsdGVyVmFsdWUudHJpbSgpLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gIC8vICAgY29uc29sZS5sb2coZmlsdGVyVmFsdWUpO1xyXG4gIC8vIH1cclxuXHJcbiAgLy8gdG9nZ2xlUm93KGVsZW1lbnQ6IGFueSkge1xyXG4gIC8vICAgdGhpcy5leHBhbmRlZEVsZW1lbnQgPSB0aGlzLmV4cGFuZGVkRWxlbWVudCA9PT0gZWxlbWVudCA/IG51bGwgOiBlbGVtZW50O1xyXG4gIC8vIH0gICBcclxuXHJcbiAgLy8gbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcyk6IHZvaWQge1xyXG4gIC8vICAgZm9yIChjb25zdCBwcm9wTmFtZSBvZiBPYmplY3Qua2V5cyhjaGFuZ2VzKSkge1xyXG4gIC8vICAgICBjb25zdCBjaGFuZ2UgPSBjaGFuZ2VzW3Byb3BOYW1lXTtcclxuICAvLyAgICAgaWYgKHByb3BOYW1lID09PSAnZXhwYW5kVGFibGVEYXRhU2V0Jykge1xyXG4gIC8vICAgICAgIHRoaXMuZXhwYW5kZWRFbGVtZW50ID0gY2hhbmdlLmN1cnJlbnRWYWx1ZTtcclxuICAvLyAgICAgICB0aGlzLmV4cGFuZGVkRGF0YVNvdXJjZSA9IHRoaXMuZXhwYW5kZWRFbGVtZW50O1xyXG4gIC8vICAgICB9XHJcbiAgLy8gICB9XHJcbiAgLy8gfVxyXG5cclxuICAvLyBzZWxlY3RSb3coZGF0YTogWHlUYWJsZUNvbHVtbkRlZikge1xyXG4gIC8vICAgdGhpcy5zZWxlY3Rpb24udG9nZ2xlKGRhdGEpO1xyXG4gIC8vIH1cclxuXHJcbiAgLy8gcmVtb3ZlU2VsZWN0ZWRSb3dzKCkge1xyXG4gIC8vICAgIHRoaXMuc2VsZWN0aW9uLnNlbGVjdGVkLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgLy8gICAgICBsZXQgaW5kZXg6IG51bWJlciA9IHRoaXMuZGF0YXNldC5maW5kSW5kZXgoKGQ6IGFueSkgPT4gZCA9PT0gaXRlbSk7XHJcbiAgLy8gICAgICBjb25zb2xlLmxvZyh0aGlzLmRhdGFzZXQuZmluZEluZGV4KChkOiBhbnkpID0+IGQgPT09IGl0ZW0pKTtcclxuICAvLyAgICAgIHRoaXMuZGF0YXNldC5zcGxpY2UoaW5kZXgsMSlcclxuICAvLyAgICAgIHRoaXMuZGF0YVNvdXJjZSA9IG5ldyBNYXRUYWJsZURhdGFTb3VyY2U8YW55Pih0aGlzLmRhdGFzZXQpO1xyXG4gIC8vICAgIH0pO1xyXG4gIC8vICAgIHRoaXMuc2VsZWN0aW9uID0gbmV3IFNlbGVjdGlvbk1vZGVsPFh5VGFibGVDb2x1bW5EZWY+KHRydWUsIFtdKTtcclxuICAvLyAgICBjb25zb2xlLmxvZyh0aGlzLmRhdGFzZXQpO1xyXG4gIC8vICB9XHJcblxyXG4gIFxyXG4gIC8vICBvblJlZnJlc2hDbGljaygpIHtcclxuICAvLyAgIGFsZXJ0KFwiaGVsb1wiKTtcclxuICAvLyB9XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBmZWVkPFQ+KGZyb206IE9ic2VydmFibGU8VD4sIHRvOiBTdWJqZWN0PFQ+KTogU3Vic2NyaXB0aW9uIHtcclxuICByZXR1cm4gZnJvbS5zdWJzY3JpYmUoXHJcbiAgICBkYXRhID0+IHRvLm5leHQoZGF0YSksXHJcbiAgICBlcnIgPT4gdG8uZXJyb3IoZXJyKSxcclxuICAgICgpID0+IHRvLmNvbXBsZXRlKCksXHJcbiAgKTtcclxufSIsIjwhLS0gPGRpdiBjbGFzcz1cImRlbGV0ZS1idG5cIj5cclxuICA8bWF0LWljb24gKGNsaWNrKT1cInJlbW92ZVNlbGVjdGVkUm93cygpXCI+ZGVsZXRlPC9tYXQtaWNvbj5cclxuPC9kaXY+IC0tPlxyXG5cclxuIDwhLS0gPGRpdiBjbGFzcz1cIm1hdC1lbGV2YXRpb24tejhcIj5cclxuICA8dGFibGUgbWF0LXRhYmxlIG11bHRpVGVtcGxhdGVEYXRhUm93cyBbZGF0YVNvdXJjZV09XCJkYXRhU291cmNlXCIgYXJpYS1kZXNjcmliZWRieT1cInRhYmxlXCIgbWF0U29ydCBjbGFzcz1cInNjcm9sbGVyXCI+XHJcbiAgICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBjb2x1bW4gb2YgY29sdW1uRGVmc1wiIFttYXRDb2x1bW5EZWZdPWNvbHVtbi5jb2x1bW5EZWY+XHJcbiAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImNvbHVtbi5jaGVja2JveFJlcXVpcmVkID09PSB0cnVlXCI+XHJcbiAgICAgICAgICA8dGggbWF0LWhlYWRlci1jZWxsICptYXRIZWFkZXJDZWxsRGVmPlxyXG4gIFxyXG4gICAgICAgICAgICA8bWF0LWNoZWNrYm94IFxyXG4gICAgICAgICAgICAgICAgICAoY2hhbmdlKT1cIiRldmVudCA/IG1hc3RlclRvZ2dsZSgpIDogbnVsbFwiXHJcbiAgICAgICAgICAgICAgICAgIFtjaGVja2VkXT1cInNlbGVjdGlvbi5oYXNWYWx1ZSgpICYmIGlzQWxsU2VsZWN0ZWQoKVwiXHJcbiAgICAgICAgICAgICAgICAgIFtpbmRldGVybWluYXRlXT1cInNlbGVjdGlvbi5oYXNWYWx1ZSgpICYmICFpc0FsbFNlbGVjdGVkKClcIiAoZm9jdXMpPVwic2VsZWN0Um93KGNvbHVtbilcIj5cclxuICAgICAgICAgICAgPC9tYXQtY2hlY2tib3g+IFxyXG4gICAgICAgICAgPC90aD4gXHJcbiAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImNvbHVtbi5pc1NvcnQgPT09IHRydWVcIj5cclxuICAgICAgICAgIDx0aCBtYXQtaGVhZGVyLWNlbGwgKm1hdEhlYWRlckNlbGxEZWYgbWF0LXNvcnQtaGVhZGVyPiB7e2NvbHVtbi5oZWFkZXJDZWxsRGVmIHwgdGl0bGVjYXNlfX0gPC90aD5cclxuICAgICAgICA8L25nLWNvbnRhaW5lcj4gXHJcbiAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImNvbHVtbi5pc1NvcnQgPT09IGZhbHNlXCI+XHJcbiAgICAgICAgICA8dGggbWF0LWhlYWRlci1jZWxsICptYXRIZWFkZXJDZWxsRGVmPiB7e2NvbHVtbi5oZWFkZXJDZWxsRGVmIHwgdGl0bGVjYXNlfX0gPC90aD5cclxuICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuXHJcblxyXG4gICAgICAgIDx0ZCBtYXQtY2VsbCAqbWF0Q2VsbERlZj1cImxldCBkYXRhXCI+XHJcbiAgICAgICAgICA8eHktdGFibGUtY2VsbCBbY29sdW1uRGVmXT1cImNvbHVtblwiIFtkYXRhXT1cImRhdGFcIj4gIDwveHktdGFibGUtY2VsbD5cclxuICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjb2x1bW4uY2VsbERlZi50eXBlID09PSAnbWVudSdcIj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBtYXQtaWNvbi1idXR0b24gW21hdE1lbnVUcmlnZ2VyRm9yXT1cIm1lbnVcIiBjbGFzcz1cImFycm93QnRuXCIgYXJpYS1sYWJlbD1cIm1lbnVcIj5cclxuICAgICAgICAgICAgICA8bWF0LWljb24+bW9yZV92ZXJ0PC9tYXQtaWNvbj5cclxuICAgICAgICAgICAgPC9idXR0b24+IFxyXG4gICAgICAgICAgICA8bWF0LW1lbnUgI21lbnU9XCJtYXRNZW51XCI+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBtYXQtbWVudS1pdGVtICAgKGNsaWNrKT1cImVkaXQoZGF0YSlcIiAqbmdJZj1cImlzRWRpdFJlcXVpcmVkXCI+XHJcbiAgICAgICAgICAgICAgICA8bWF0LWljb24+ZWRpdDwvbWF0LWljb24+XHJcbiAgICAgICAgICAgICAgICA8c3Bhbj5FZGl0PC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gbWF0LW1lbnUtaXRlbSAgKGNsaWNrKT1cImRlbGV0ZShkYXRhKVwiICpuZ0lmPVwiaXNEZWxldGVSZXF1aXJlZFwiPlxyXG4gICAgICAgICAgICAgICAgPG1hdC1pY29uPmRlbGV0ZV9vdXRsaW5lPC9tYXQtaWNvbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuPkRlbGV0ZTwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2J1dHRvbj4gXHJcbiAgICAgICAgICAgIDwvbWF0LW1lbnU+IFxyXG4gICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcblxyXG4gICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImNvbHVtbi5jZWxsRGVmLnR5cGUgPT09ICdhY3Rpb24nXCI+XHJcbiAgICAgICAgICAgIDxidXR0b24gbWF0LWljb24tYnV0dG9uIGFyaWEtbGFiZWw9XCJleHBhbmQgcm93XCIgY2xhc3M9XCJhcnJvd0J0blwiIChjbGljayk9XCJ0b2dnbGVSb3coZGF0YSlcIiAqbmdJZj1cImV4cGFuZFJlcXVpcmVkXCI+XHJcbiAgICAgICAgICAgICAgICA8bWF0LWljb24gKm5nSWY9XCJleHBhbmRlZEVsZW1lbnQgIT09IGRhdGFcIj5rZXlib2FyZF9hcnJvd19kb3duPC9tYXQtaWNvbj5cclxuICAgICAgICAgICAgICAgIDxtYXQtaWNvbiAqbmdJZj1cImV4cGFuZGVkRWxlbWVudCA9PT0gZGF0YVwiPmtleWJvYXJkX2Fycm93X3VwPC9tYXQtaWNvbj5cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgIFxyXG4gICAgPG5nLWNvbnRhaW5lciAgKm5nSWY9XCJjb2x1bW4uY2hlY2tib3hSZXF1aXJlZCA9PSB0cnVlXCI+IFxyXG4gICAgICAgICAgICAgIDxtYXQtY2hlY2tib3ggKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXHJcbiAgICAgICAgICAgICAgICAoY2hhbmdlKT1cIiRldmVudCA/IHNlbGVjdGlvbi50b2dnbGUoZGF0YSkgOiBudWxsXCJcclxuICAgICAgICAgICAgICAgIFtjaGVja2VkXT1cInNlbGVjdGlvbi5pc1NlbGVjdGVkKGRhdGEpXCI+XHJcbiAgICAgICAgICAgICAgPC9tYXQtY2hlY2tib3g+XHJcbiAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICA8L3RkPlxyXG4gICAgPC9uZy1jb250YWluZXI+XHJcbiAgXHJcbiAgICA8bmctY29udGFpbmVyIG1hdENvbHVtbkRlZj1cImV4cGFuZGVkRGV0YWlsXCI+XHJcbiAgICAgIDx0cj5cclxuICAgICAgICA8dGQgbWF0LWNlbGwgKm1hdENlbGxEZWY9XCJsZXQgZWxlbWVudFwiIFthdHRyLmNvbHNwYW5dPVwiY29sdW1uc1RvRGlzcGxheS5sZW5ndGhcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbm5lci10YWJsZS1kZXRhaWxcIiAqbmdJZj1cImV4cGFuZFJlcXVpcmVkXCJcclxuICAgICAgICAgICAgW0BkZXRhaWxFeHBhbmRdPVwiZWxlbWVudD8uaWQgPT0gZXhwYW5kZWRFbGVtZW50Py5pZCA/ICdleHBhbmRlZCcgOiAnY29sbGFwc2VkJ1wiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sbGFwc2UtdGFibGUgbWF0LWVsZXZhdGlvbi16OFwiICpuZ0lmPVwiZXhwYW5kZWRFbGVtZW50XCI+XHJcbiAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cImV4cGFuZEFzRGF0YVwiPlxyXG4gICAgICAgICAgICAgICAgICA8cD57e2VsZW1lbnQ/LmV4cGFuZGFibGVSb3c/LmV4cGFuZERhdGF9fTwvcD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gIFxyXG4gIFxyXG4gICAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cImV4cGFuZEFzVGFibGVEYXRhXCI+XHJcbiAgICAgICAgICAgICAgICAgIDx0YWJsZSBtYXQtdGFibGUgbXVsdGlUZW1wbGF0ZURhdGFSb3dzIFtkYXRhU291cmNlXT1cImV4cGFuZGVkRGF0YVNvdXJjZVwiIGFyaWEtZGVzY3JpYmVkYnk9XCJ0YWJsZVwiIFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwic2Nyb2xsZXJcIiA+XHJcbiAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGNvbHVtbiBvZiBleHBhbmRjb2x1bW5EZWZzXCIgW21hdENvbHVtbkRlZl09Y29sdW1uLmNvbHVtbkRlZj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjb2x1bW4uY2hlY2tib3hSZXF1aXJlZCA9PT0gdHJ1ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggbWF0LWhlYWRlci1jZWxsICptYXRIZWFkZXJDZWxsRGVmPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggbWF0LWhlYWRlci1jZWxsICptYXRIZWFkZXJDZWxsRGVmPiB7e2NvbHVtbi5oZWFkZXJDZWxsRGVmIHwgdGl0bGVjYXNlfX0gPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgIDx0ZCBtYXQtY2VsbCAqbWF0Q2VsbERlZj1cImxldCBkYXRhXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx4eS10YWJsZS1jZWxsIFtjb2x1bW5EZWZdPVwiY29sdW1uXCIgW2RhdGFdPVwiZGF0YVwiPjwveHktdGFibGUtY2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImNvbHVtbi5jaGVja2JveFJlcXVpcmVkID09PSB0cnVlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPG1hdC1jaGVja2JveCAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAoY2hhbmdlKT1cIiRldmVudCA/IHNlbGVjdGlvbi50b2dnbGUoZGF0YSkgOiBudWxsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBbY2hlY2tlZF09XCJzZWxlY3Rpb24uaXNTZWxlY3RlZChkYXRhKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L21hdC1jaGVja2JveD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICBcclxuICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyID5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0ciBtYXQtaGVhZGVyLXJvdyAqbWF0SGVhZGVyUm93RGVmPVwiZXhwYW5kQ29sdW1uc1RvRGlzcGxheTsgc3RpY2t5OnRydWVcIj48L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRyIG1hdC1yb3cgKm1hdFJvd0RlZj1cImxldCBlbGVtZW50OyBjb2x1bW5zOiBleHBhbmRDb2x1bW5zVG9EaXNwbGF5O1wiIFxyXG4gICAgICAgICAgICAgICAgICAgICAgW25nQ2xhc3NdPVwie2hpZ2hsaWdodGVkOiBzZWxlY3Rpb24uaXNTZWxlY3RlZChlbGVtZW50KX1cIiAoY2xpY2spPVwic2VsZWN0Um93KGVsZW1lbnQpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvdGQ+XHJcbiAgICAgIDwvdHI+XHJcbiAgICAgIDx0ciBtYXQtaGVhZGVyLXJvdyAqbWF0SGVhZGVyUm93RGVmPVwiY29sdW1uc1RvRGlzcGxheTsgc3RpY2t5OnRydWVcIj48L3RyPlxyXG5cclxuICAgICAgPHRyIG1hdC1yb3cgKm1hdFJvd0RlZj1cImxldCBlbGVtZW50LCBsZXQgZGF0YTsgY29sdW1uczogY29sdW1uc1RvRGlzcGxheTtcIlxyXG4gICAgICAgIFtjbGFzcy5hY2NvcmRpb24tZWxlbWVudC1yb3ddPVwiZWxlbWVudC5hZGRyZXNzZXM/LmRhdGEubGVuZ3RoXCJcclxuICAgICAgICBbY2xhc3MuYWNjb3JkaW9uLWFjdGl2ZV09XCJleHBhbmRlZEVsZW1lbnQ/LmlkID09PSBlbGVtZW50Py5pZFwiXHJcbiAgICAgICAgKGNsaWNrKT1cIm9uQ2xpY2tSaWdodCgkZXZlbnQsIGRhdGEpXCIgKG1vdXNlZG93bik9XCJvbk1vdXNlRG93bigkZXZlbnQsIGRhdGEpXCIgKG1vdXNldXApPVwib25Nb3VzZVVwKCRldmVudCwgZGF0YSlcIlxyXG4gICAgICAgIFtuZ0NsYXNzXT1cIntoaWdobGlnaHRlZDogc2VsZWN0aW9uLmlzU2VsZWN0ZWQoZWxlbWVudCl9XCIgKGNsaWNrKT1cInNlbGVjdFJvdyhlbGVtZW50KVwiPlxyXG4gICAgICA8L3RyPlxyXG4gICAgICBcclxuICAgICAgPHRyIG1hdC1yb3cgICptYXRSb3dEZWY9XCJsZXQgZGF0YTsgY29sdW1uczogWydleHBhbmRlZERldGFpbCddXCIgIGNsYXNzPVwiaW5uZXJ0YWJsZS1yb3dcIj48L3RyPlxyXG4gICAgPC9uZy1jb250YWluZXI+XHJcbiAgICBcclxuXHJcbiAgPC90YWJsZT5cclxuICBcclxuICA8bWF0LXBhZ2luYXRvciBbbGVuZ3RoXT1cImxlbmd0aFwiXHJcbiAgICAgICAgICAgICAgICBbcGFnZVNpemVdPVwicGFnZVNpemVcIlxyXG4gICAgICAgICAgICAgICAgW3BhZ2VTaXplT3B0aW9uc109XCJwYWdlU2l6ZU9wdGlvbnNcIlxyXG4gICAgICAgICAgICAgICAgW2F0dHIuYXJpYS1sYWJlbF09XCJhcmlhTGFiZWxcIlxyXG4gICAgICAgICAgICAgICAgc2hvd0ZpcnN0TGFzdEJ1dHRvbnMgPlxyXG4gIDwvbWF0LXBhZ2luYXRvcj5cclxuPC9kaXY+IC0tPlxyXG48ZGl2IGNsYXNzPVwidGFibGUtYWN0aW9uYmFyXCIgKm5nSWY9XCJ0YWJsZWFjdGlvbkJhclwiPlxyXG4gIDxkaXYgY2xhc3M9XCJsZWZ0LWNvbFwiPlxyXG4gICAgPGRpdiBjbGFzcz1cImZpbHRlci1zZWFyY2hcIiAqbmdJZj1cInRhYmxlU2VhcmNoQmFyXCI+XHJcbiAgICAgIDx4eS1pbnB1dCBwbGFjZWhvbGRlcj1cInt7c2VhcmNoUGxhY2Vob2xkZXJ9fVwiICh2YWx1ZSk9XCJ2YWx1ZVwiIHNtYWxsIChrZXl1cCk9XCJhcHBseUZpbHRlcigkZXZlbnQpXCI+PC94eS1pbnB1dD5cclxuICAgIDwvZGl2PiBcclxuICA8L2Rpdj5cclxuICA8ZGl2IGNsYXNzPVwicmlnaHQtY29sXCI+XHJcbiAgICAgIDx4eS1idXR0b24gaWNvbi1idXR0b24gaWNvbj1cImRlbGV0ZVwiIGNvbG9yPVwiY3JpdGljYWxcIiAoY2xpY2spPVwicmVtb3ZlU2VsZWN0ZWRSb3dzKClcIiAqbmdJZj1cImRlbGV0ZUFsbFRyaWdcIj4gPC94eS1idXR0b24+XHJcbiAgICAgIDx4eS1idXR0b24gaWNvbi1idXR0b24gaWNvbj1cInN5bmNcIiBjb2xvcj1cImFjY2VudFwiIChjbGljayk9XCJyZWZyZXNoKCRldmVudClcIiAqbmdJZj1cInRhYmxlUmVmcmVzaFwiPjwveHktYnV0dG9uPlxyXG4gICAgICA8eHktYnV0dG9uIGljb24tYnV0dG9uIGNvbG9yPVwiYWNjZW50XCIgaWNvbj1cInR1bmVcIiAgW21hdE1lbnVUcmlnZ2VyRm9yXT1cIm1lbnVcIiBjbGFzcz1cInRhYmxlLWNvbmZpZy1tZW51XCIgKm5nSWY9XCJjb2x1bW5IaWRlVHJpZ1wiPlxyXG4gICAgICAgIDxtYXQtbWVudSAjbWVudT1cIm1hdE1lbnVcIj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGFibGUtY29uZmlnLW1lbnUtbGFiZWxcIj5FZGl0IENvbHVtbnM8L3NwYW4+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFibGUtY29uZmlnLW1lbnUtb3B0aW9uc1wiPlxyXG4gICAgICAgICAgICA8bWF0LWNoZWNrYm94IFxyXG4gICAgICAgICAgICAgICpuZ0Zvcj1cImxldCBjZCBvZiBjb2x1bW5EZWZzOyBsZXQgaSA9IGluZGV4XCJcclxuICAgICAgICAgICAgICAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCIgWyhuZ01vZGVsKV09XCJjZC52aXNpYmxlXCI+XHJcbiAgICAgICAgICAgICAge3tjZC5oZWFkZXJDZWxsRGVmfX1cclxuICAgICAgICAgICAgPC9tYXQtY2hlY2tib3g+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9tYXQtbWVudT5cclxuICAgICAgPC94eS1idXR0b24+XHJcbiAgPC9kaXY+XHJcbjwvZGl2PlxyXG5cclxuXHJcbjxkaXYgY2xhc3M9XCJtYXQtZWxldmF0aW9uLXo4XCI+XHJcbiAgPHRhYmxlIG1hdC10YWJsZSBtdWx0aVRlbXBsYXRlRGF0YVJvd3MgW2RhdGFTb3VyY2VdPVwiZGF0YVNvdXJjZVwiIGFyaWEtZGVzY3JpYmVkYnk9XCJ0YWJsZVwiIG1hdFNvcnQgY2xhc3M9XCJzY3JvbGxlclwiPlxyXG4gICAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgY29sdW1uIG9mIGNvbHVtbkRlZnNcIiBbbWF0Q29sdW1uRGVmXT1jb2x1bW4uY29sdW1uRGVmPlxyXG4gICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjb2x1bW4uY2hlY2tib3hSZXF1aXJlZCA9PT0gdHJ1ZVwiPlxyXG4gICAgICAgICAgPHRoIG1hdC1oZWFkZXItY2VsbCAqbWF0SGVhZGVyQ2VsbERlZj5cclxuICAgICAgICAgICAgPCEtLSBjb2x1bW4gY2hlY2tib3ggLS0+XHJcbiAgICAgICAgICAgIDxtYXQtY2hlY2tib3ggXHJcbiAgICAgICAgICAgIChjaGFuZ2UpPVwiJGV2ZW50ID8gbWFzdGVyVG9nZ2xlKCkgOiBudWxsXCJcclxuICAgICAgICAgICAgICAgICAgICBbY2hlY2tlZF09XCJzZWxlY3Rpb24uaGFzVmFsdWUoKSAmJiBpc0FsbFNlbGVjdGVkKClcIlxyXG4gICAgICAgICAgICAgICAgICAgIFtpbmRldGVybWluYXRlXT1cInNlbGVjdGlvbi5oYXNWYWx1ZSgpICYmICFpc0FsbFNlbGVjdGVkKClcIiAoZm9jdXMpPVwic2VsZWN0Um93KGNvbHVtbilcIj5cclxuICAgICAgICAgICAgPC9tYXQtY2hlY2tib3g+XHJcbiAgICAgICAgICA8L3RoPlxyXG4gICAgICAgIDwvbmctY29udGFpbmVyPlxyXG5cclxuICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiY29sdW1uLmlzU29ydCA9PT0gdHJ1ZVwiPlxyXG4gICAgICAgICAgPHRoIG1hdC1oZWFkZXItY2VsbCAqbWF0SGVhZGVyQ2VsbERlZiBtYXQtc29ydC1oZWFkZXI+XHJcbiAgICAgICAgICAgIHt7Y29sdW1uLmhlYWRlckNlbGxEZWYgfCB0aXRsZWNhc2V9fSBcclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImQtZmxleFwiPlxyXG4gICAgICAgICAgICAgIDwhLS0gPGJ1dHRvbiBtYXQtYnV0dG9uIG1hdFN1ZmZpeCBtYXQtaWNvbi1idXR0b24gYXJpYS1sYWJlbD1cIkNsZWFyXCIgW21hdE1lbnVUcmlnZ2VyRm9yXT1cInNlYXJjaE1lbnVcIj4gIFxyXG4gICAgICAgICAgICAgICAgPG1hdC1pY29uPmZpbHRlcl9saXN0PC9tYXQtaWNvbj5cclxuICAgICAgICAgICAgICA8L2J1dHRvbj4gLS0+XHJcbiAgICAgICAgICAgICAgPG1hdC1tZW51ICNzZWFyY2hNZW51PVwibWF0TWVudVwiPlxyXG4gICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlIG1hdE1lbnVDb250ZW50PlxyXG4gICAgICAgICAgICAgICAgICA8IS0tIDxkaXYgY2xhc3M9XCJmaWx0ZXJCb3hcIiBzdHlsZT1cIndpZHRoOiAyMDBweDsgaGVpZ2h0OiAyMzNweDtcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsdGVyLXNlYXJjaFwiID5cclxuICAgICAgICAgICAgICAgICAgICAgIDx4eS1pbnB1dCBwbGFjZWhvbGRlcj1cIkdsb2JhbCBGaWx0ZXJcIiAodmFsdWUpPVwidmFsdWVcIiBzbWFsbCAoa2V5dXApPVwiYXBwbHlGaWx0ZXIoJGV2ZW50KVwiPjwveHktaW5wdXQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+IFxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIDxoNiBjbGFzcz1cImZpbHRlclRpdGxlXCI+RmlsdGVyIEJ5IENvbHVtbjwvaDY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbHVtbkJveFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm9wdGlvbnNcIiAqbmdGb3I9XCJsZXQgZW1wZmlsdGVyIG9mIGVtcEZpbHRlcnM7XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNj57e2VtcGZpbHRlci5uYW1lfX08L2g2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsdGVyLWdyb3VwXCIgICpuZ0Zvcj1cImxldCBvcCBvZiBlbXBmaWx0ZXIub3B0aW9uczsgIGxldCBpID0gaW5kZXhcIj4gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPG1hdC1jaGVja2JveCAgW3ZhbHVlXT1cIm9wXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAoY2hhbmdlKT1cImFwcGx5RW1wRmlsdGVyKCRldmVudCwgZW1wZmlsdGVyKVwiICh2YWx1ZSk9XCJlbXBmaWx0ZXIuZGVmYXVsdFZhbHVlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAge3tvcH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9tYXQtY2hlY2tib3g+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGhyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNj5DdXN0b20gRmlsdGVyIEZpZWxkczwvaDY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdUZW1wbGF0ZU91dGxldD1cImludGxpZXNcIj48L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxicj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gXHJcbiAgICAgICAgICAgICAgICAgLS0+XHJcbiAgICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICAgIDwvbWF0LW1lbnU+XHJcbiAgICAgICAgICAgIDwvZGl2PiAgXHJcbiAgICAgICAgICA8L3RoPlxyXG4gICAgICAgIDwvbmctY29udGFpbmVyPlxyXG5cclxuICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiY29sdW1uLmlzU29ydCA9PT0gZmFsc2VcIj5cclxuICAgICAgICAgIDx0aCBtYXQtaGVhZGVyLWNlbGwgKm1hdEhlYWRlckNlbGxEZWY+IHt7Y29sdW1uLmhlYWRlckNlbGxEZWYgfCB0aXRsZWNhc2V9fTwvdGg+XHJcbiAgICAgICAgPC9uZy1jb250YWluZXI+XHJcblxyXG4gICAgICAgXHJcbiAgICAgICAgPHRkIG1hdC1jZWxsICptYXRDZWxsRGVmPVwibGV0IGRhdGFcIj5cclxuICAgICAgICAgIDx4eS10YWJsZS1jZWxsIFtjb2x1bW5EZWZdPVwiY29sdW1uXCIgW2RhdGFdPVwiZGF0YVwiPjwveHktdGFibGUtY2VsbD5cclxuICAgICAgICAgXHJcblxyXG4gICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImNvbHVtbi5jZWxsRGVmLnR5cGUgPT09ICdtZW51J1wiPlxyXG4gICAgICAgICAgICAgPCEtLSA8YnV0dG9uIG1hdC1pY29uLWJ1dHRvbiBbbWF0TWVudVRyaWdnZXJGb3JdPVwibWVudVwiIGNsYXNzPVwiYXJyb3dCdG5cIiBhcmlhLWxhYmVsPVwibWVudVwiPlxyXG4gICAgICAgICAgICAgIDxtYXQtaWNvbj5tb3JlX3ZlcnQ8L21hdC1pY29uPlxyXG4gICAgICAgICAgICA8L2J1dHRvbj4gXHJcbiAgICAgICAgICAgICA8bWF0LW1lbnUgI21lbnU9XCJtYXRNZW51XCI+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBtYXQtbWVudS1pdGVtICAoY2xpY2spPVwiZWRpdChkYXRhKVwiICpuZ0lmPVwiaXNFZGl0UmVxdWlyZWRcIj5cclxuICAgICAgICAgICAgICAgIDxtYXQtaWNvbj5lZGl0PC9tYXQtaWNvbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuPkVkaXQ8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBtYXQtbWVudS1pdGVtICAoY2xpY2spPVwiZGVsZXRlKGRhdGEpXCIgKm5nSWY9XCJpc0RlbGV0ZVJlcXVpcmVkXCI+XHJcbiAgICAgICAgICAgICAgICA8bWF0LWljb24+ZGVsZXRlX291dGxpbmU8L21hdC1pY29uPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4+RGVsZXRlPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L21hdC1tZW51PiAgLS0+XHJcbiAgICAgICAgICAgIDxidXR0b24gbWF0LWljb24tYnV0dG9uIFttYXRNZW51VHJpZ2dlckZvcl09XCJtZW51XCIgYXJpYS1sYWJlbD1cIkV4YW1wbGUgaWNvbi1idXR0b24gd2l0aCBhIG1lbnVcIiA+XHJcbiAgICAgICAgICAgICAgPG1hdC1pY29uPm1vcmVfdmVydDwvbWF0LWljb24+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8bWF0LW1lbnUgI21lbnU9XCJtYXRNZW51XCI+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBtYXQtbWVudS1pdGVtIChjbGljayk9XCJkZWxldGUoZGF0YSlcIj5cclxuICAgICAgICAgICAgICAgIDxtYXQtaWNvbj5kZWxldGU8L21hdC1pY29uPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4+RGVsZXRlPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gbWF0LW1lbnUtaXRlbSAoY2xpY2spPVwiZWRpdChkYXRhKVwiPlxyXG4gICAgICAgICAgICAgICAgPG1hdC1pY29uPmVkaXQ8L21hdC1pY29uPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4+RWRpdDwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8YnV0dG9uIG1hdC1tZW51LWl0ZW0gKGNsaWNrKT1cIm9uVmlld0NsaWNrKClcIj5cclxuICAgICAgICAgICAgICAgIDxtYXQtaWNvbj52aXNpYmlsaXR5PC9tYXQtaWNvbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuPlZpZXcgRGV0YWlsczwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9tYXQtbWVudT5cclxuICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG5cclxuICAgICAgICAgIDwhLS0gPG5nLWNvbnRhaW5lciAqbmdJZj1cImNvbHVtbi5DdXN0b21FTGVtZW50ID09IHRydWVcIj5cclxuICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdUZW1wbGF0ZU91dGxldD1cImludGxpZXMyXCI+PC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICA8L25nLWNvbnRhaW5lcj4gLS0+XHJcblxyXG4gICAgICBcclxuICAgICAgICAgIDwhLS0gPG5nLWNvbnRhaW5lciBtYXRDb2x1bW5EZWY9XCJhY3Rpb25cIj5cclxuICAgICAgICAgICAgPG1hdC1oZWFkZXItY2VsbCAqbWF0SGVhZGVyQ2VsbERlZj5BY3Rpb248L21hdC1oZWFkZXItY2VsbD5cclxuICAgICAgICAgICAgPG1hdC1jZWxsICptYXRDZWxsRGVmPVwibGV0IGNvbHVtblwiIGFjdGlvbi1idXR0b25zICAoYnV0dG9uQWN0aW9uKT1cIm9uVGFibGVBY3Rpb24oJGV2ZW50KVwiPlxyXG4gICAgICAgICAgICAgIHt7IGNvbHVtbi52aXNpYmxlIH19XHJcbiAgICAgICAgICAgIDwvbWF0LWNlbGw+XHJcbiAgICAgICAgICA8L25nLWNvbnRhaW5lcj4gIC0tPlxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICA8IS0tIGNvbHVtbiBjaGVja2JveCAtLT5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICA8bmctY29udGFpbmVyICAqbmdJZj1cImNvbHVtbi5jaGVja2JveFJlcXVpcmVkID09IHRydWVcIj4gXHJcbiAgICAgICAgICAgIDxtYXQtY2hlY2tib3ggKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXHJcbiAgICAgICAgICAgICAgKGNoYW5nZSk9XCIkZXZlbnQgPyBzZWxlY3Rpb24udG9nZ2xlKGRhdGEpIDogbnVsbFwiXHJcbiAgICAgICAgICAgICAgW2NoZWNrZWRdPVwic2VsZWN0aW9uLmlzU2VsZWN0ZWQoZGF0YSlcIj5cclxuICAgICAgICAgICAgPC9tYXQtY2hlY2tib3g+XHJcbiAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIDwhLS0gPG5nLWNvbnRhaW5lciAqbmdJZj1cImNvbHVtbi5odG1sRWxlbWVudCA9PSB0cnVlXCI+IFxyXG4gICAgICAgICAgICAgIDx4eS1idXR0b24gbGlnaHQtd2VpZ2h0LWJ1dHRvbiBjb2xvcj1cImFjY2VudFwiICAoY2xpY2spPVwib25DbGljaygkZXZlbnQpXCI+e3tidXR0b25UZXh0fX08L3h5LWJ1dHRvbj5cclxuICAgICAgICAgIDwvbmctY29udGFpbmVyPiAtLT5cclxuXHJcbiAgICAgICAgPC90ZD5cclxuICAgICBcclxuICAgICAgXHJcbiAgICA8L25nLWNvbnRhaW5lcj5cclxuXHJcbiAgICA8IS0tIEV4cGFuZGVkIENvbnRlbnQgQ29sdW1uIC0tPlxyXG4gICAgPG5nLWNvbnRhaW5lciBtYXRDb2x1bW5EZWY9XCJleHBhbmRlZERldGFpbFwiPlxyXG4gICAgICA8dHI+XHJcbiAgICAgICAgPHRkIG1hdC1jZWxsICptYXRDZWxsRGVmPVwibGV0IGVsZW1lbnRcIiBbYXR0ci5jb2xzcGFuXT1cImNvbHVtbnNUb0Rpc3BsYXkubGVuZ3RoXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5uZXItdGFibGUtZGV0YWlsXCIgKm5nSWY9XCJleHBhbmRSZXF1aXJlZFwiXHJcbiAgICAgICAgICAgIFtAZGV0YWlsRXhwYW5kXT1cImVsZW1lbnQ/LmlkID09IGV4cGFuZGVkRWxlbWVudD8uaWQgPyAnZXhwYW5kZWQnIDogJ2NvbGxhcHNlZCdcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbGxhcHNlLXRhYmxlIG1hdC1lbGV2YXRpb24tejhcIiAqbmdJZj1cImV4cGFuZGVkRWxlbWVudFwiPlxyXG4gICAgICAgICAgICAgICAgPCEtLSBFeHBhbmRhYmxlIFZpZXcgRGF0YSAtLT5cclxuICAgICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJleHBhbmRBc0RhdGFcIj5cclxuICAgICAgICAgICAgICAgICAgPHA+e3tlbGVtZW50Py5leHBhbmRhYmxlUm93Py5leHBhbmREYXRhfX08L3A+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwhLS0gRXhwYW5kYWJsZSBWaWV3IHRhYmxlIC0tPlxyXG4gICAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cImV4cGFuZEFzVGFibGVEYXRhXCI+XHJcbiAgICAgICAgICAgICAgICAgIDx0YWJsZSBtYXQtdGFibGUgbXVsdGlUZW1wbGF0ZURhdGFSb3dzIFtkYXRhU291cmNlXT1cImV4cGFuZGVkRGF0YVNvdXJjZVwiIGFyaWEtZGVzY3JpYmVkYnk9XCJ0YWJsZVwiIFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwic2Nyb2xsZXJcIiA+XHJcbiAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGNvbHVtbiBvZiBleHBhbmRjb2x1bW5EZWZzXCIgW21hdENvbHVtbkRlZl09Y29sdW1uLmNvbHVtbkRlZj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjb2x1bW4uY2hlY2tib3hSZXF1aXJlZCA9PT0gdHJ1ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggbWF0LWhlYWRlci1jZWxsICptYXRIZWFkZXJDZWxsRGVmPjwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggbWF0LWhlYWRlci1jZWxsICptYXRIZWFkZXJDZWxsRGVmPiB7e2NvbHVtbi5oZWFkZXJDZWxsRGVmIHwgdGl0bGVjYXNlfX0gPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgIDx0ZCBtYXQtY2VsbCAqbWF0Q2VsbERlZj1cImxldCBkYXRhXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx4eS10YWJsZS1jZWxsIFtjb2x1bW5EZWZdPVwiY29sdW1uXCIgW2RhdGFdPVwiZGF0YVwiPjwveHktdGFibGUtY2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBjb2x1bW4gY2hlY2tib3ggLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjb2x1bW4uY2hlY2tib3hSZXF1aXJlZCA9PT0gdHJ1ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxtYXQtY2hlY2tib3ggKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKGNoYW5nZSk9XCIkZXZlbnQgPyBzZWxlY3Rpb24udG9nZ2xlKGRhdGEpIDogbnVsbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgW2NoZWNrZWRdPVwic2VsZWN0aW9uLmlzU2VsZWN0ZWQoZGF0YSlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9tYXQtY2hlY2tib3g+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLSA8bmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRyIG1hdC1oZWFkZXItcm93ICptYXRIZWFkZXJSb3dEZWY9XCJnZXREaXNwbGF5ZWRDb2x1bW5zKCk7IHN0aWNreTp0cnVlXCI+PC90cj5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0ciBtYXQtcm93ICptYXRSb3dEZWY9XCJsZXQgZWxlbWVudDsgY29sdW1uczogZ2V0RGlzcGxheWVkQ29sdW1ucygpO1wiIFxyXG4gICAgICAgICAgICAgICAgICAgICAgW25nQ2xhc3NdPVwie2hpZ2hsaWdodGVkOiBzZWxlY3Rpb24uaXNTZWxlY3RlZChlbGVtZW50KX1cIiAoY2xpY2spPVwic2VsZWN0Um93KGVsZW1lbnQpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPiAtLT5cclxuICAgICAgICAgICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvdGQ+XHJcbiAgICAgIDwvdHI+XHJcblxyXG4gICAgICAgICAgXHJcbiAgICAgIFxyXG4gICAgICA8dHIgbWF0LWhlYWRlci1yb3cgKm1hdEhlYWRlclJvd0RlZj1cImdldERpc3BsYXllZENvbHVtbnMoKTsgc3RpY2t5OnRydWVcIj48L3RyPlxyXG5cclxuICAgICAgPHRyIG1hdC1yb3cgKm1hdFJvd0RlZj1cImxldCBlbGVtZW50OyBjb2x1bW5zOiAgZGF0YVNvdXJjZS5kYXRhLmxlbmd0aCA+IDAgJiYgZGF0YVNvdXJjZS5maWx0ZXJlZERhdGEubGVuZ3RoID4gMCA/IGdldERpc3BsYXllZENvbHVtbnMoKSA6ICBbJ2VtcHR5LXJvdyddO1wiXHJcbiAgICAgICAgW2NsYXNzLmFjY29yZGlvbi1lbGVtZW50LXJvd109XCJlbGVtZW50LmFkZHJlc3Nlcz8uZGF0YS5sZW5ndGhcIlxyXG4gICAgICAgIFtjbGFzcy5hY2NvcmRpb24tYWN0aXZlXT1cImV4cGFuZGVkRWxlbWVudD8uaWQgPT09IGVsZW1lbnQ/LmlkXCJcclxuICAgICAgICBbbmdDbGFzc109XCJ7aGlnaGxpZ2h0ZWQ6IHNlbGVjdGlvbi5pc1NlbGVjdGVkKGVsZW1lbnQpfVwiIChjbGljayk9XCJzZWxlY3RSb3coZWxlbWVudClcIj5cclxuICAgICAgPC90cj5cclxuICAgICAgPHRyIG1hdC1yb3cgID48L3RyPlxyXG4gICAgPC9uZy1jb250YWluZXI+XHJcbiAgICBcclxuICA8L3RhYmxlPlxyXG5cclxuICA8dGQgY2xhc3M9XCJub0RhdGFcIiAqbmdJZj1cImRhdGFTb3VyY2UuZmlsdGVyZWREYXRhLmxlbmd0aCA8PSAwXCI+XHJcbiAgICB7e25vRGF0YU1lc3NhZ2V9fVxyXG4gIDwvdGQ+XHJcblxyXG4gIDxtYXQtcGFnaW5hdG9yIFtsZW5ndGhdPVwibGVuZ3RoXCJcclxuICAgICAgICAgICAgICAgIFtwYWdlU2l6ZV09XCJwYWdlU2l6ZVwiXHJcbiAgICAgICAgICAgICAgICBbcGFnZVNpemVPcHRpb25zXT1cInBhZ2VTaXplT3B0aW9uc1wiXHJcbiAgICAgICAgICAgICAgICBbYXR0ci5hcmlhLWxhYmVsXT1cImFyaWFMYWJlbFwiXHJcbiAgICAgICAgICAgICAgICBzaG93Rmlyc3RMYXN0QnV0dG9ucyA+XHJcbiAgPC9tYXQtcGFnaW5hdG9yPlxyXG5cclxuPC9kaXY+XHJcblxyXG48IS0tIDxkaXYgY2xhc3M9XCJ0YWJsZS1hY3Rpb25iYXJcIj5cclxuICA8ZGl2IGNsYXNzPVwiYWN0aW9uLWJveFwiPlxyXG4gICAgPGJ1dHRvbiBjb2xvcj1cIndhcm5cIiBtYXQtbWluaS1mYWIgYXJpYS1sYWJlbD1cIkV4YW1wbGUgaWNvbiBidXR0b24gd2l0aCBhIGhvbWUgaWNvblwiICAoY2xpY2spPVwicmVtb3ZlU2VsZWN0ZWRSb3dzKClcIj5cclxuICAgICAgPG1hdC1pY29uPmRlbGV0ZTwvbWF0LWljb24+XHJcbiAgICA8L2J1dHRvbj5cclxuICAgIDxidXR0b24gY29sb3I9XCJwcmltYXJ5XCIgbWF0LW1pbmktZmFiIGFyaWEtbGFiZWw9XCJFeGFtcGxlIGljb24gYnV0dG9uIHdpdGggYSBob21lIGljb25cIiA+XHJcbiAgICAgIDxtYXQtaWNvbj5yZWZyZXNoPC9tYXQtaWNvbj5cclxuICAgIDwvYnV0dG9uPlxyXG5cclxuICAgIDxidXR0b24gIG1hdC1taW5pLWZhYiBjb2xvcj1cInByaW1hcnlcIiAgW21hdE1lbnVUcmlnZ2VyRm9yXT1cIm1lbnVcIiBjbGFzcz1cInRhYmxlLWNvbmZpZy1tZW51XCI+XHJcbiAgICAgIDxtYXQtaWNvbiBhcmlhLWhpZGRlbj1cImZhbHNlXCIgYXJpYS1sYWJlbD1cIkV4YW1wbGUgaG9tZSBpY29uXCI+c2V0dGluZ3M8L21hdC1pY29uPlxyXG4gICAgICA8bWF0LW1lbnUgI21lbnU9XCJtYXRNZW51XCI+XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJ0YWJsZS1jb25maWctbWVudS1sYWJlbFwiPkVkaXQgQ29sdW1uczwvc3Bhbj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwidGFibGUtY29uZmlnLW1lbnUtb3B0aW9uc1wiPlxyXG4gICAgICAgICAgPG1hdC1jaGVja2JveCBcclxuICAgICAgICAgICAgKm5nRm9yPVwibGV0IGNkIG9mIGNvbHVtbnM7IGxldCBpID0gaW5kZXhcIlxyXG4gICAgICAgICAgICAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcclxuICAgICAgICAgICAgWyhuZ01vZGVsKV09XCJjZC52aXNpYmxlXCI+XHJcbiAgICAgICAgICAgIHt7Y2QuaGVhZGVyfX1cclxuICAgICAgICAgIDwvbWF0LWNoZWNrYm94PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9tYXQtbWVudT5cclxuICAgIDwvYnV0dG9uPlxyXG4gICAgXHJcbiAgPC9kaXY+XHJcbjwvZGl2PlxyXG5cclxuXHJcblxyXG48bWF0LXRhYmxlICAjdGFibGUgW2RhdGFTb3VyY2VdPVwiZGF0YVNvdXJjZVwiIG11bHRpVGVtcGxhdGVEYXRhUm93cyBjbGFzcz1cIm1hdC1lbGV2YXRpb24tejhcIiBtYXRTb3J0PlxyXG5cclxuXHJcbiAgPG5nLWNvbnRhaW5lciBtYXRDb2x1bW5EZWY9XCJzZWxlY3RcIiA+XHJcbiAgICA8bWF0LWhlYWRlci1jZWxsICptYXRIZWFkZXJDZWxsRGVmPlxyXG4gICAgICA8bWF0LWNoZWNrYm94IGNvbG9yPVwicHJpbWFyeVwiIChjaGFuZ2UpPVwiJGV2ZW50ID8gbWFzdGVyVG9nZ2xlKCkgOiBudWxsXCJcclxuICAgICAgICBbY2hlY2tlZF09XCJzZWxlY3Rpb24uaGFzVmFsdWUoKSAmJiBpc0FsbFNlbGVjdGVkKClcIiBbaW5kZXRlcm1pbmF0ZV09XCJzZWxlY3Rpb24uaGFzVmFsdWUoKSAmJiAhaXNBbGxTZWxlY3RlZCgpXCI+XHJcbiAgICAgIDwvbWF0LWNoZWNrYm94PlxyXG4gICAgPC9tYXQtaGVhZGVyLWNlbGw+XHJcbiAgICA8bWF0LWNlbGwgKmNka0NlbGxEZWY9XCJsZXQgcm93XCI+XHJcbiAgICAgIDxtYXQtY2hlY2tib3ggY29sb3I9XCJwcmltYXJ5XCIgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiIChjaGFuZ2UpPVwiJGV2ZW50ID8gc2VsZWN0aW9uLnRvZ2dsZShyb3cpIDogbnVsbFwiXHJcbiAgICAgICAgW2NoZWNrZWRdPVwic2VsZWN0aW9uLmlzU2VsZWN0ZWQocm93KVwiPlxyXG4gICAgICA8L21hdC1jaGVja2JveD5cclxuICAgIDwvbWF0LWNlbGw+XHJcbiAgPC9uZy1jb250YWluZXI+XHJcblxyXG5cclxuICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBjb2x1bW4gb2YgY29sdW1ucztcIiAgW21hdENvbHVtbkRlZl09XCJjb2x1bW4uY29sdW1uRGVmXCI+XHJcbiAgICA8bWF0LWhlYWRlci1jZWxsICpjZGtIZWFkZXJDZWxsRGVmIG1hdC1zb3J0LWhlYWRlcj5cclxuICAgICAgICB7e2NvbHVtbi5oZWFkZXJ9fVxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXhcIj5cclxuICAgICAgICAgIDxidXR0b24gbWF0LWJ1dHRvbiBtYXRTdWZmaXggbWF0LWljb24tYnV0dG9uIGFyaWEtbGFiZWw9XCJDbGVhclwiIFttYXRNZW51VHJpZ2dlckZvcl09XCJtZW51XCI+XHJcbiAgICAgICAgICAgIDxtYXQtaWNvbj5maWx0ZXJfbGlzdDwvbWF0LWljb24+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDxtYXQtbWVudSAjbWVudT5cclxuICAgICAgICAgICAgPG5nLXRlbXBsYXRlIG1hdE1lbnVDb250ZW50PlxyXG4gICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICA8bWF0LWNoZWNrYm94IGNsYXNzPVwibWF0LW1lbnUtaXRlbVwiPnt7Y29sdW1uLnZpc2libGV9fTwvbWF0LWNoZWNrYm94PiAgXHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbHRlckJveFwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsdGVyR3JvdXBcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiXCI+Qnkge3tjb2x1bW4uaGVhZGVyfX08L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIFsobmdNb2RlbCldPVwidmFsdWVcIiAoa2V5dXApPVwiYXBwbHlGaWx0ZXIoJGV2ZW50KVwiPiBcclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdUZW1wbGF0ZU91dGxldD1cImludGxpZXNcIj48L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICA8L21hdC1tZW51PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9tYXQtaGVhZGVyLWNlbGw+XHJcbiAgICA8bWF0LWNlbGwgKmNka0NlbGxEZWY9XCJsZXQgcm93XCI+e3sgcm93W2NvbHVtbi5jb2x1bW5EZWZdIH19PC9tYXQtY2VsbD5cclxuICA8L25nLWNvbnRhaW5lcj5cclxuXHJcbiAgPG5nLWNvbnRhaW5lciBtYXRDb2x1bW5EZWY9XCJleHBhbmRlZERldGFpbFwiPlxyXG4gICAgPHRyPlxyXG4gICAgICA8dGQgbWF0LWNlbGwgKm1hdENlbGxEZWY9XCJsZXQgZWxlbWVudFwiIFthdHRyLmNvbHNwYW5dPVwiY29sdW1uc1RvRGlzcGxheS5sZW5ndGhcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiaW5uZXItdGFibGUtZGV0YWlsXCIgKm5nSWY9XCJleHBhbmRSZXF1aXJlZFwiXHJcbiAgICAgICAgICBbQGRldGFpbEV4cGFuZF09XCJlbGVtZW50Py5pZCA9PSBleHBhbmRlZEVsZW1lbnQ/LmlkID8gJ2V4cGFuZGVkJyA6ICdjb2xsYXBzZWQnXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sbGFwc2UtdGFibGUgbWF0LWVsZXZhdGlvbi16OFwiICpuZ0lmPVwiZXhwYW5kZWRFbGVtZW50XCI+XHJcbiAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiZXhwYW5kQXNEYXRhXCI+XHJcbiAgICAgICAgICAgICAgICA8cD57e2VsZW1lbnQ/LmV4cGFuZGFibGVSb3c/LmV4cGFuZERhdGF9fTwvcD5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cImV4cGFuZEFzVGFibGVEYXRhXCI+XHJcbiAgICAgICAgICAgICAgICA8dGFibGUgbWF0LXRhYmxlIG11bHRpVGVtcGxhdGVEYXRhUm93cyBbZGF0YVNvdXJjZV09XCJleHBhbmRlZERhdGFTb3VyY2VcIiBhcmlhLWRlc2NyaWJlZGJ5PVwidGFibGVcIiBcclxuICAgICAgICAgICAgICAgICAgY2xhc3M9XCJzY3JvbGxlclwiID5cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBjb2x1bW4gb2YgZXhwYW5kY29sdW1uRGVmc1wiIFttYXRDb2x1bW5EZWZdPWNvbHVtbi5jb2x1bW5EZWY+XHJcbiAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciA+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGggbWF0LWhlYWRlci1jZWxsICptYXRIZWFkZXJDZWxsRGVmPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRoIG1hdC1oZWFkZXItY2VsbCAqbWF0SGVhZGVyQ2VsbERlZj4ge3tjb2x1bW4uY29sdW1uRGVmIHwgdGl0bGVjYXNlfX0gPC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyID5cclxuICAgICAgICAgICAgICAgICAgICA8dHIgbWF0LWhlYWRlci1yb3cgKm1hdEhlYWRlclJvd0RlZj1cImV4cGFuZENvbHVtbnNUb0Rpc3BsYXk7IHN0aWNreTp0cnVlXCI+PC90cj5cclxuICAgICAgICAgICAgICAgICAgICA8dHIgbWF0LXJvdyAqbWF0Um93RGVmPVwibGV0IGVsZW1lbnQ7IGNvbHVtbnM6IGV4cGFuZENvbHVtbnNUb0Rpc3BsYXk7XCIgXHJcbiAgICAgICAgICAgICAgICAgICAgW25nQ2xhc3NdPVwie2hpZ2hsaWdodGVkOiBzZWxlY3Rpb24uaXNTZWxlY3RlZChlbGVtZW50KX1cIiAoY2xpY2spPVwic2VsZWN0Um93KGVsZW1lbnQpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvdGQ+XHJcbiAgICA8L3RyPlxyXG4gICAgPHRyIG1hdC1oZWFkZXItcm93ICptYXRIZWFkZXJSb3dEZWY9XCJjb2x1bW5zVG9EaXNwbGF5OyBzdGlja3k6dHJ1ZVwiPjwvdHI+XHJcblxyXG4gICAgPHRyIG1hdC1yb3cgICptYXRSb3dEZWY9XCJsZXQgZGF0YTsgY29sdW1uczogWydleHBhbmRlZERldGFpbCddXCIgIGNsYXNzPVwiaW5uZXJ0YWJsZS1yb3dcIj48L3RyPlxyXG4gIDwvbmctY29udGFpbmVyPlxyXG4gIFxyXG5cclxuIFxyXG4gIDxuZy1jb250YWluZXIgbWF0Q29sdW1uRGVmPVwiYWN0aW9uXCI+XHJcbiAgICA8bWF0LWhlYWRlci1jZWxsICptYXRIZWFkZXJDZWxsRGVmPkFjdGlvbjwvbWF0LWhlYWRlci1jZWxsPlxyXG4gICAgPG1hdC1jZWxsICptYXRDZWxsRGVmPVwibGV0IGVsZW1lbnRcIiBhY3Rpb24tYnV0dG9ucyAgKGJ1dHRvbkFjdGlvbik9XCJvblRhYmxlQWN0aW9uKCRldmVudClcIj5cclxuICAgICAge3sgZWxlbWVudC53ZWlnaHQgfX1cclxuICAgIDwvbWF0LWNlbGw+XHJcbiAgPC9uZy1jb250YWluZXI+XHJcbiAgXHJcbiAgPG1hdC1oZWFkZXItcm93ICptYXRIZWFkZXJSb3dEZWY9XCJnZXREaXNwbGF5ZWRDb2x1bW5zKCk7XCIgPjwvbWF0LWhlYWRlci1yb3c+XHJcbiAgPG1hdC1yb3cgKm1hdFJvd0RlZj1cImxldCByb3c7IGNvbHVtbnM6IGdldERpc3BsYXllZENvbHVtbnMoKTtcIiAgW2NsYXNzLmFjY29yZGlvbi1lbGVtZW50LXJvd109XCJyb3cuYWRkcmVzc2VzPy5kYXRhLmxlbmd0aFwiXHJcbiAgW2NsYXNzLmFjY29yZGlvbi1hY3RpdmVdPVwiZXhwYW5kZWRFbGVtZW50Py5pZCA9PT0gcm93Py5pZFwiXHJcbiAgW25nQ2xhc3NdPVwie2hpZ2hsaWdodGVkOiBzZWxlY3Rpb24uaXNTZWxlY3RlZChyb3cpfVwiIChjbGljayk9XCJzZWxlY3RSb3cocm93KVwiPjwvbWF0LXJvdz5cclxuPC9tYXQtdGFibGU+XHJcblxyXG5cclxuPG1hdC1wYWdpbmF0b3IgW2xlbmd0aF09XCJsZW5ndGhcIlxyXG4gICAgICAgICAgICAgIFtwYWdlU2l6ZV09XCJwYWdlU2l6ZVwiXHJcbiAgICAgICAgICAgICAgW3BhZ2VTaXplT3B0aW9uc109XCJwYWdlU2l6ZU9wdGlvbnNcIlxyXG4gICAgICAgICAgICAgIFthdHRyLmFyaWEtbGFiZWxdPVwiYXJpYUxhYmVsXCJcclxuICAgICAgICAgICAgICBzaG93Rmlyc3RMYXN0QnV0dG9ucyA+XHJcbjwvbWF0LXBhZ2luYXRvcj4gIC0tPiJdfQ==