@use '@angular/material' as mat;
@use "xy-spacing" as ysp;


.xy-tooltip-right .mdc-tooltip__surface, 
.xy-tooltip-left .mdc-tooltip__surface, 
.xy-tooltip-above .mdc-tooltip__surface, 
.xy-tooltip-below .mdc-tooltip__surface { 
  color: black !important;
  background-color: white !important;
  box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.16);
  border-radius: 3px;
  position: relative;
  padding: 6px 8px;
  &.mat-mdc-tooltip{
    overflow: visible !important;
    font-size: 0.9rem;
    font-weight: 500;
  }
} 
.mat-mdc-tooltip .mdc-tooltip__surface{
  font-size: 0.9rem !important;
  font-weight: 500 !important;
}

.mat-mdc-tooltip-panel-right:before{
  content: "";
  position: absolute;
  width: 8px;
  height: 8px;
  background-color: white;
  left: -4px;
  transform: rotate(45deg);
  top: 10px;
  z-index: 999;
}

.mat-mdc-tooltip-panel-left:before{
  content: "";
  position: absolute;
  width: 8px;
  height: 8px;
  background-color: white;
  right: -4px;
  transform: rotate(45deg);
  top: 10px;
  z-index: 999;
}
.mat-mdc-tooltip-panel-below:before{
  content: "";
  position: absolute;
  width: 8px;
  height: 8px;
  background-color: white;
  right: 0px;
  left: 0;
  transform: rotate(45deg);
  top: -5px;
  margin: 0 auto;
  z-index: 999;
}

.mat-mdc-tooltip-panel-above:before{
  content: "";
  position: absolute;
  width: 8px;
  height: 8px;
  background-color: white;
  right: 0px;
  left: 0;
  transform: rotate(45deg);
  bottom: -4px;
  margin: 0 auto;
  z-index: 999;
}

::ng-deep {
  .mat-mdc-dialog-container {
    padding: ysp.$spacing-s;
  }
  .mat-pseudo-checkbox-checked{
    background-color: #056fcf !important;
  }
  .mat-bottom-sheet-container{
    padding: 0;
  }

  .mat-option-text{
    color: mat.get-color-from-palette($xy-base, 900) !important;
  }

  .mat-option.mat-selected:not(.mat-option-multiple):not(.mat-option-disabled){
    background: mat.get-color-from-palette($xy-base, 200) !important;
  }

  .mat-option:hover:not(.mat-option-disabled),
  .mat-option:focus:not(.mat-option-disabled){
    background: mat.get-color-from-palette($xy-base, 100) !important;
  }
}

// Bottom Sheet
.mat-bottom-sheet-container{
  border-radius: 28px 28px 0px 0px !important;
  box-shadow: 0px 3px 6px #00000029;
  max-height: 480px !important;
}

::-webkit-scrollbar {
  width: 4px;
}

/* Track */
::-webkit-scrollbar-track {
  //box-shadow: inset 0 0 5px grey;
  border-radius: 2px;
}

/* Handle */
::-webkit-scrollbar-thumb {
  background: mat.get-color-from-palette($xy-base, 500) !important;
  border-radius: 2px;
}

/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
  background: mat.get-color-from-palette($xy-base, 100) !important;
}

::ng-deep {
  
  * { /* for Firefox */
    scrollbar-width: thin;
    scrollbar-color: mat.get-color-from-palette($xy-base, 500) $xy-white !important;
  }
}

.xy-sidenav-small{
  .mat-list-base .mat-list-item.mat-list-item-with-avatar, .mat-list-base .mat-list-option.mat-list-item-with-avatar{
    height: 38px;
  }
}
mat-nav-list{
  .mat-expansion-panel:not([class*=mat-elevation-z]){
    box-shadow: none;
  }
  .mat-list-base .mat-list-item .mat-list-item-content, .mat-list-base .mat-list-option .mat-list-item-content{
    padding: 0px 10px;
  }

  .child-menus{
    .child-menus{
      .mat-list-item{
        height: 38px;
      }
      .mat-list-item-content{
        font-size: 14px;
      }
      .mat-list-item-content{
        margin-left: 8px;
      }
    }
  }
  .mat-expansion-panel-body{
    padding: 0 0px 2px;
  }
  .child-menus{
    .mat-list-item:hover:not(:active):not(.xy-sidenav-active):not(.cdk-drag-placeholder){
      background-color: #f0f2f4 !important;
      color: #86888a !important;
    }
    .mat-list-item:focus:not(:active):not(.xy-sidenav-active){
      background-color: #f0f2f4 !important;
      color: #004f9b!important;
      border-color: transparent !important;
    }
    .mat-list-base .mat-list-item .mat-list-item-content, .mat-list-base .mat-list-option .mat-list-item-content{
      padding: 0px 16px;
    }
  }
  
  .collapse-hide{
    .mat-list-base .mat-list-item.mat-list-item-with-avatar, .mat-list-base .mat-list-option.mat-list-item-with-avatar{
      height: 35px;
    }
  }
  
  .mat-list-base .mat-list-item.mat-list-item-with-avatar, .mat-list-base .mat-list-option.mat-list-item-with-avatar{
    height: 48px;
  }
  .mat-expansion-panel-header.mat-expanded{
    // height: 38px;
  }
  .mat-expansion-panel-header{
    padding: 0px 1px;
    height: 48px;
    .mat-content{
      align-items: center;
    }
  }
  .mat-list-base{
    display: initial;
  }
}
/* Spinner */
.mat-progress-spinner circle, .mat-spinner circle {
  stroke: mat.get-color-from-palette($xy-primary, 500) !important;
  stroke-linecap: round !important;
}
/* Menu */
.mat-mdc-menu-panel{
  .mat-mdc-menu-content:not(:empty) {
    padding-top: 0 !important;
    padding-bottom: 0 !important;
  }
}



 
// DatePicker
.mat-calendar-body{
  .mat-calendar-body-selected{
    background-color: #004F9B !important;
    color: white;
    border: none;
    box-shadow: none;
  
  }
}
.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){
  border-color: #00489B;
}
.mat-mdc-calendar{
  mat-multi-year-view{
    .mat-calendar-body-selected{
      height: 32px;
    }
  }
}
.mat-calendar-body-in-range::before {
  background: #E6F3FF;
 }

// AutoSelect
.mat-mdc-autocomplete-panel{
  background-color: #FFFFFF;
  padding: 0;
  .mat-mdc-option:hover:not(.mdc-list-item--disabled){
    background: #e1e3e6;
  }
  .mat-option-text{
    color: #00091A !important;
  }
  .mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){
    background-color: #F1F1F2 !important;
    .mdc-list-item__primary-text{
      color: #0059B3 !important;
    }
  }
  .mat-option:hover{
    background-color: transparent !important;
  }
}

  /* DropDown  Light Theme*/
 
  .xy-multiple-select{
    margin-left: 40px !important;
  }
  .mat-select-panel {
    background: white;
    margin-top: 38px;
    .mat-option{
      &.mat-selected:not(.mat-option-multiple):not(.mat-option-disabled){
        background: mat.get-color-from-palette($xy-base, 200) !important;
        border: mat.get-color-from-palette($xy-dark-primary, 200) 1px solid;
      }
      .mat-pseudo-checkbox-checked, .mat-pseudo-checkbox-indeterminate, .mat-accent .mat-pseudo-checkbox-checked, .mat-accent .mat-pseudo-checkbox-indeterminate{
        background-color: #056fcf !important;
      }
      .mat-pseudo-checkbox{
        border: 2px solid #056fcf;
      }
     
    
      .mat-option-text {
        color: mat.get-color-from-palette($xy-base, 900) !important;
      }
      .mat-pseudo-checkbox::after{
        color: white;
      }


      &.mat-option-disabled {
        .mat-option-text {
          color: mat.get-color-from-palette($xy-dark-base, 500) !important;
        }
      }
    }
  }

  
.mat-date-range-input-container{
  display: flex;
  align-items: center;
  justify-content: space-around;
}
.mat-date-range-input-start-wrapper{
  position: initial !important;
}
.dark-theme {
  // DatePicker
    .mat-datepicker-toggle, .mat-datepicker-content .mat-calendar-next-button, .mat-datepicker-content .mat-calendar-previous-button{
      color: white;
    }
    .mat-calendar-body-in-range::before {
      background: rgba(51, 153,255,0.1);
     }
     .mat-date-range-input-separator{
      color: white;
     }
     
    .mat-calendar-table-header, .mat-calendar-body-label{
      color: white;
    }
   
    .mat-calendar-body-cell-content{
      color: white;
    }
   
    .mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){
      border-color: #3399FF ;
    }
    .mat-calendar-arrow{
      fill: white;
    }
  .mat-calendar-body{
    color: white !important;
    .mat-calendar-body-selected{
      background-color: #3399FF !important;
      color: white ;
      border: none;
      box-shadow: none;
    }
  }
  .mat-calendar{
    background-color: #333333;
    color: white;
   
    mat-multi-year-view{
      .mat-calendar-body-selected{
        height: 32px;
      }
    }
  }

  // Bottom Sheet
  .mat-bottom-sheet-container{
    background-color: #333333;
    color: white;
    border-radius: 28px 28px 0px 0px;
    box-shadow: 0px 3px 6px #00000029;
    max-height: 480px !important;
  }

  /* Handle */
  ::-webkit-scrollbar-thumb {
    background: mat.get-color-from-palette($xy-dark-base, 500) !important;
    border-radius: 2px;
  }

  /* Handle on hover */
  ::-webkit-scrollbar-thumb:hover {
    background: mat.get-color-from-palette($xy-dark-base, 100) !important;
  }

 
  // AutoSelect
  .mat-mdc-autocomplete-panel{
    background-color: #333333;
    padding: 0;
   
    .mdc-list-item__primary-text{
      color: white !important;
    }
    .mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){
      background-color: #3399FF1A !important;
      .mdc-list-item__primary-text{
        color: #ECECEC !important;
      }
    }
    .mat-mdc-option{
      background-color: transparent !important;
    }
  }

  /* DropDown */
  .mat-select-panel {
    background: mat.get-color-from-palette($xy-dark-base, 700);
    margin-top: 38px;
    min-width: calc(100% + 0px) !important;
    margin-left: 16px;
    .mat-mdc-option{
      &.mat-selected:not(.mat-option-multiple):not(.mat-option-disabled){
        background: mat.get-color-from-palette($xy-dark-primary, 500, 0.2) !important;
        border: mat.get-color-from-palette($xy-dark-primary, 200) 1px solid;
      }
      &:hover:not(.mat-option-disabled), &:focus:not(.mat-option-disabled) {
        background: mat.get-color-from-palette($xy-dark-primary, 500, 0.1) !important;
      }
      .mat-pseudo-checkbox::after{
        color: #333333;
      }

      .mat-option-text {
        color: mat.get-color-from-palette($xy-dark-base, 50) !important;
      }

      &.mat-option-disabled {
        .mat-option-text {
          color: mat.get-color-from-palette($xy-dark-base, 500) !important;
        }
      }
    }
  }


  /*　Menu */
  .mat-mdc-menu-panel{
    background: mat.get-color-from-palette($xy-dark-base, 700);
    .mat-mdc-menu-item:hover:not([disabled]):not(:active),
    .mat-mdc-menu-item.cdk-program-focused:not([disabled]),
    .mat-mdc-menu-item.cdk-keyboard-focused:not([disabled]),
    .mat-mdc-menu-item-highlighted:not([disabled]) {
      background-color: mat.get-color-from-palette($xy-dark-primary, 500, 0.2) !important;
      color:  mat.get-color-from-palette($xy-dark-base, 50) !important;
      .mat-icon{
        color:  mat.get-color-from-palette($xy-dark-base, 50) !important;
      }
    }
    .xy-menu-item {
      &:not([disabled]) {
        color: mat.get-color-from-palette($xy-dark-primary, 50);

        mat-icon{
          color: mat.get-color-from-palette($xy-dark-base, 50) !important;
        }

        .mat-menu-submenu-icon{
          color: mat.get-color-from-palette($xy-dark-primary, 50);
        }

        &.mat-mdc-menu-item {
          color:  mat.get-color-from-palette($xy-dark-base, 50) !important;
           &:hover {
            background-color: mat.get-color-from-palette($xy-dark-primary, 500, 0.2) !important;
          }

          &:active {
            background-color: mat.get-color-from-palette($xy-dark-primary, 500, 0.2) !important;
          }

          .mat-menu-ripple{
            .mat-ripple-element {
              opacity: 0.2;
              background-color: mat.get-color-from-palette($xy-dark-primary, 500, 0.02);
            }
          }
        }
      }
      &[disabled] {
        color: mat.get-color-from-palette($xy-dark-base, 500);

        mat-icon{
          color: mat.get-color-from-palette($xy-dark-base, 500) !important;
        }

        .mat-menu-submenu-icon{
          color: mat.get-color-from-palette($xy-dark-base, 500);
        }
      }
    }

    .xy-menu-divider {
      background-color: mat.get-color-from-palette($xy-dark-base, 500);
    }
  }

  /* Tree */
  .mat-tree-node{
    &.cdk-drag-preview {
      button{
        color: mat.get-color-from-palette($xy-dark-primary, 50);
      }
      color: mat.get-color-from-palette($xy-dark-primary, 50);
      background-color: mat.get-color-from-palette($xy-dark-primary, 500, 0.2);
    }
  }

  .mat-mdc-dialog-container {
    background: mat.get-color-from-palette($xy-dark-base, 700) !important;
  }
}
.mat-toolbar{
  .mdc-button__label{
     color: white;
   }

  }

.dark-theme{
  .mat-toolbar{
     .mdc-button__l abel{
        color: white;
      }
    }
    
  .mdc-button__label{
    color: white;
  }
}
